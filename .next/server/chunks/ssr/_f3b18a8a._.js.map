{"version":3,"sources":["../../../../node_modules/styled-jsx/dist/index/index.js","../../../../node_modules/styled-jsx/style.js","../../../../src/components/Steps/DrawingCanvas.tsx","../../../../src/components/Steps/DrawingModal.tsx","../../../../src/components/Steps/Step6Scenes.tsx","../../../../src/components/Steps/Step7Export.tsx","../../../../src/app/projects/%5Bid%5D/episodes/%5BepisodeId%5D/EpisodePageClient.tsx","../../../../src/hooks/useEpisodes.ts","../../../../src/components/Steps/Step3Structure.tsx","../../../../src/components/Steps/StepCharacterList.tsx","../../../../src/components/Steps/Step2Outline.tsx","../../../../node_modules/lucide-react/src/icons/chevron-right.ts","../../../../node_modules/lucide-react/src/icons/external-link.ts","../../../../node_modules/lucide-react/src/icons/film.ts","../../../../node_modules/lucide-react/src/icons/redo-2.ts","../../../../node_modules/lucide-react/src/icons/link.ts","../../../../node_modules/lucide-react/src/icons/menu.ts","../../../../node_modules/lucide-react/src/icons/undo-2.ts","../../../../src/components/Steps/Step1Concept.tsx","../../../../node_modules/lucide-react/src/icons/sticky-note.ts","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../node_modules/lucide-react/src/icons/message-square.ts","../../../../node_modules/lucide-react/src/icons/eraser.ts","../../../../node_modules/lucide-react/src/icons/printer.ts"],"sourcesContent":["require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n","module.exports = require('./dist/index').style\n","\"use client\";\n\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { Eraser, Undo2, Redo2 } from 'lucide-react';\n\ninterface DrawingCanvasProps {\n    initialData?: string;\n    onChange: (dataUrl: string) => void;\n    className?: string;\n    showTools?: boolean;\n}\n\nexport const DrawingCanvas: React.FC<DrawingCanvasProps> = ({\n    initialData,\n    onChange,\n    className = '',\n    showTools = true\n}) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [isDrawing, setIsDrawing] = useState(false);\n    const [context, setContext] = useState<CanvasRenderingContext2D | null>(null);\n    const [brushSize, setBrushSize] = useState<number>(1); // Default to 'Extra Fine'\n    const [tool, setTool] = useState<'pen' | 'eraser'>('pen');\n\n    // History stacks\n    const [drawHistory, setDrawHistory] = useState<string[]>([]);\n    const [redoHistory, setRedoHistory] = useState<string[]>([]);\n\n    // Points for smoothing\n    const pointsRef = useRef<{ x: number, y: number }[]>([]);\n    const requestRef = useRef<number | undefined>(undefined);\n\n    // Initial setup\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n\n        // Use desynchronized for lower latency if possible\n        const ctx = canvas.getContext('2d', {\n            alpha: true\n        });\n        if (!ctx) return;\n\n        ctx.lineJoin = 'round';\n        ctx.lineCap = 'round';\n        ctx.lineWidth = brushSize;\n        ctx.strokeStyle = '#000000'; // 黒ペンに変更\n        setContext(ctx);\n\n        if (initialData) {\n            const img = new Image();\n            img.onload = () => {\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.drawImage(img, 0, 0);\n                // Initialize history with initial data if present\n                setDrawHistory([initialData]);\n            };\n            img.src = initialData;\n        } else {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            setDrawHistory(['']); // Empty canvas as first state\n        }\n    }, [initialData]);\n\n    // Sync initialData prop if it changes from outside\n    useEffect(() => {\n        if (initialData && !drawHistory.includes(initialData)) {\n            const img = new Image();\n            img.onload = () => {\n                context?.clearRect(0, 0, canvasRef.current!.width, canvasRef.current!.height);\n                context?.drawImage(img, 0, 0);\n                setDrawHistory(prev => [...prev, initialData]);\n                setRedoHistory([]);\n            };\n            img.src = initialData;\n        }\n    }, [initialData, drawHistory, context]);\n\n    // Brush size and Tool sync\n    useEffect(() => {\n        if (context) {\n            context.lineWidth = brushSize;\n            context.globalCompositeOperation = tool === 'eraser' ? 'destination-out' : 'source-over';\n            // ツール切り替え時にも色を黒に維持\n            if (tool === 'pen') {\n                context.strokeStyle = '#000000';\n            }\n        }\n    }, [brushSize, tool, context]);\n\n    const saveToHistory = useCallback(() => {\n        if (canvasRef.current) {\n            const dataUrl = canvasRef.current.toDataURL();\n            setDrawHistory(prev => [...prev, dataUrl]);\n            setRedoHistory([]);\n            onChange(dataUrl);\n        }\n    }, [onChange]);\n\n    const undo = useCallback(() => {\n        if (drawHistory.length <= 1) return;\n\n        const newHistory = [...drawHistory];\n        const currentState = newHistory.pop()!;\n        setRedoHistory(prev => [...prev, currentState]);\n        setDrawHistory(newHistory);\n\n        const prevState = newHistory[newHistory.length - 1];\n        const canvas = canvasRef.current;\n        if (canvas && context) {\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            if (prevState) {\n                const img = new Image();\n                img.onload = () => context.drawImage(img, 0, 0);\n                img.src = prevState;\n            }\n            onChange(prevState);\n        }\n    }, [drawHistory, context, onChange]);\n\n    const redo = useCallback(() => {\n        if (redoHistory.length === 0) return;\n\n        const newRedoStack = [...redoHistory];\n        const nextState = newRedoStack.pop()!;\n        setDrawHistory(prev => [...prev, nextState]);\n        setRedoHistory(newRedoStack);\n\n        const canvas = canvasRef.current;\n        if (canvas && context) {\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            const img = new Image();\n            img.onload = () => context.drawImage(img, 0, 0);\n            img.src = nextState;\n            onChange(nextState);\n        }\n    }, [redoHistory, context, onChange]);\n\n    // Keyboard Shortcuts\n    useEffect(() => {\n        if (!showTools) return;\n\n        const handleKeyDown = (e: KeyboardEvent) => {\n            const isMod = e.ctrlKey || e.metaKey;\n            const isShift = e.shiftKey;\n\n            if (isMod && !isShift && e.key === 'z') {\n                e.preventDefault();\n                undo();\n            } else if ((isMod && isShift && e.key === 'z') || (isMod && e.key === 'y')) {\n                e.preventDefault();\n                redo();\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [undo, redo, showTools]);\n\n    const getCoordinates = (e: PointerEvent | React.PointerEvent) => {\n        const canvas = canvasRef.current;\n        if (!canvas) return { x: 0, y: 0 };\n        const rect = canvas.getBoundingClientRect();\n        return {\n            x: (e.clientX - rect.left) * (canvas.width / rect.width),\n            y: (e.clientY - rect.top) * (canvas.height / rect.height)\n        };\n    };\n\n    const drawBatch = useCallback(() => {\n        if (!context || pointsRef.current.length < 2) return;\n\n        const pts = pointsRef.current;\n        context.beginPath();\n\n        // Start point\n        context.moveTo(pts[0].x, pts[0].y);\n\n        // Smooth drawing algorithm using midpoints for curves\n        for (let i = 1; i < pts.length - 2; i++) {\n            const xc = (pts[i].x + pts[i + 1].x) / 2;\n            const yc = (pts[i].y + pts[i + 1].y) / 2;\n            context.quadraticCurveTo(pts[i].x, pts[i].y, xc, yc);\n        }\n\n        // For the last 2 points\n        if (pts.length > 2) {\n            const lastIdx = pts.length - 2;\n            context.quadraticCurveTo(\n                pts[lastIdx].x,\n                pts[lastIdx].y,\n                pts[lastIdx + 1].x,\n                pts[lastIdx + 1].y\n            );\n        } else if (pts.length === 2) {\n            context.lineTo(pts[1].x, pts[1].y);\n        }\n\n        context.stroke();\n    }, [context]);\n\n    const startDrawing = (e: React.PointerEvent) => {\n        if (!context) return;\n        setIsDrawing(true);\n        const coords = getCoordinates(e);\n        pointsRef.current = [coords];\n\n        context.beginPath();\n        context.moveTo(coords.x, coords.y);\n    };\n\n    const draw = (e: React.PointerEvent) => {\n        if (!isDrawing || !context) return;\n\n        // Use coalesced events for higher precision if available\n        const events = (e.nativeEvent as any).getCoalescedEvents?.() || [e.nativeEvent];\n\n        for (const event of events) {\n            const coords = getCoordinates(event);\n            pointsRef.current.push(coords);\n        }\n\n        // Optimization: Use requestAnimationFrame for smoother rendering\n        if (requestRef.current) cancelAnimationFrame(requestRef.current);\n        requestRef.current = requestAnimationFrame(() => {\n            drawBatch();\n        });\n    };\n\n    const stopDrawing = () => {\n        if (!isDrawing) return;\n        setIsDrawing(false);\n        if (requestRef.current) cancelAnimationFrame(requestRef.current);\n        pointsRef.current = [];\n        saveToHistory();\n    };\n\n    const clearCanvas = () => {\n        if (!context || !canvasRef.current) return;\n        context.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n        saveToHistory();\n    };\n\n    const brushSizes = [\n        { id: 'extra-fine', label: '極細', value: 1, dotSize: 'w-0.5 h-0.5' },\n        { id: 'fine', label: '細', value: 3, dotSize: 'w-1.5 h-1.5' },\n        { id: 'medium', label: '中', value: 6, dotSize: 'w-2.5 h-2.5' },\n    ];\n\n    return (\n        <div className={`flex flex-col bg-[#0a0a0a] border border-zinc-800 rounded-lg overflow-hidden w-full ${className}`}>\n            {/* Canvas Render Area: 白背景に変更 */}\n            <div\n                className=\"relative w-full aspect-video bg-white overflow-hidden touch-none\"\n            >\n                <canvas\n                    ref={canvasRef}\n                    width={320}\n                    height={180}\n                    onPointerDown={startDrawing}\n                    onPointerMove={draw}\n                    onPointerUp={stopDrawing}\n                    onPointerLeave={stopDrawing}\n                    onPointerCancel={stopDrawing}\n                    className=\"w-full h-full block cursor-crosshair touch-none relative z-10\"\n                />\n            </div>\n\n            {/* Tool UI */}\n            {showTools && (\n                <div className=\"bg-zinc-950 border-t border-zinc-800 p-3 md:p-4 flex flex-wrap items-center justify-between gap-4\">\n                    <div className=\"flex items-center gap-4\">\n                        {/* Tool Switcher */}\n                        <div className=\"flex gap-1 bg-zinc-900 p-1 rounded-xl border border-white/5\">\n                            <button\n                                onClick={() => setTool('pen')}\n                                className={`w-12 h-10 flex flex-col items-center justify-center rounded-lg transition-all ${tool === 'pen' ? 'bg-primary text-white font-bold' : 'text-zinc-500 hover:text-white'\n                                    }`}\n                                title=\"ペン\"\n                            >\n                                <span className=\"text-[14px]\">✎</span>\n                                <span className=\"text-[8px] font-black leading-tight\">ペン</span>\n                            </button>\n                            <button\n                                onClick={() => setTool('eraser')}\n                                className={`w-12 h-10 flex flex-col items-center justify-center rounded-lg transition-all ${tool === 'eraser' ? 'bg-primary text-white font-bold' : 'text-zinc-500 hover:text-white'\n                                    }`}\n                                title=\"消しゴム\"\n                            >\n                                <Eraser size={14} />\n                                <span className=\"text-[8px] font-black leading-tight\">消しゴム</span>\n                            </button>\n                        </div>\n\n                        {/* History Controls */}\n                        <div className=\"flex gap-1 bg-zinc-900 p-1 rounded-xl border border-white/5\">\n                            <button\n                                onClick={undo}\n                                disabled={drawHistory.length <= 1}\n                                className=\"w-10 h-10 flex items-center justify-center rounded-lg text-zinc-400 hover:bg-zinc-800 hover:text-white disabled:opacity-20 transition-all\"\n                                title=\"元に戻す (Ctrl+Z)\"\n                            >\n                                <Undo2 size={18} />\n                            </button>\n                            <button\n                                onClick={redo}\n                                disabled={redoHistory.length === 0}\n                                className=\"w-10 h-10 flex items-center justify-center rounded-lg text-zinc-400 hover:bg-zinc-800 hover:text-white disabled:opacity-20 transition-all\"\n                                title=\"やり直し (Ctrl+Y / Ctrl+Shift+Z)\"\n                            >\n                                <Redo2 size={18} />\n                            </button>\n                        </div>\n\n                        {/* Brush Sizes */}\n                        <div className=\"flex gap-1 bg-zinc-900 p-1 rounded-xl border border-white/5\">\n                            {brushSizes.map((size) => (\n                                <button\n                                    key={size.id}\n                                    onClick={() => setBrushSize(size.value)}\n                                    className={`flex flex-col items-center justify-center min-w-[48px] h-10 rounded-lg transition-all ${brushSize === size.value\n                                        ? 'bg-primary text-white font-bold shadow-lg'\n                                        : 'text-zinc-500 hover:bg-zinc-800 hover:text-white'\n                                        }`}\n                                >\n                                    <div className={`rounded-full mb-0.5 ${size.dotSize} ${brushSize === size.value ? 'bg-white' : 'bg-current'}`} />\n                                    <span className=\"text-[9px] font-black\">{size.label}</span>\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n\n                    <button\n                        onClick={clearCanvas}\n                        className=\"flex items-center gap-2 px-4 h-10 bg-zinc-900 border border-white/5 rounded-xl text-zinc-400 hover:bg-red-500 hover:text-white hover:border-red-600 transition-all font-bold\"\n                    >\n                        <Eraser size={14} />\n                        <span className=\"text-sm\">クリア</span>\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n};","\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { X, Save } from 'lucide-react';\nimport { DrawingCanvas } from './DrawingCanvas';\nimport { Button } from '@/components/ui/Button';\n\ninterface DrawingModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    initialData: string;\n    onSave: (dataUrl: string) => void;\n    title?: string;\n}\n\nexport const DrawingModal: React.FC<DrawingModalProps> = ({\n    isOpen,\n    onClose,\n    initialData,\n    onSave,\n    title = \"ネームの下書き\"\n}) => {\n    const [currentData, setCurrentData] = useState(initialData);\n    const [isSaving, setIsSaving] = useState(false);\n    const [showToast, setShowToast] = useState(false);\n\n    // Reset internal state when modal opens\n    useEffect(() => {\n        if (isOpen) {\n            setCurrentData(initialData);\n            setIsSaving(false);\n            setShowToast(false);\n        }\n    }, [isOpen, initialData]);\n\n    if (!isOpen) return null;\n\n    const handleSave = async () => {\n        if (isSaving) return;\n        setIsSaving(true);\n        try {\n            await onSave(currentData);\n            setShowToast(true);\n            setTimeout(() => {\n                setShowToast(false);\n                onClose();\n            }, 800);\n        } catch (error) {\n            console.error(\"Save failed:\", error);\n            setIsSaving(false);\n        }\n    };\n\n    return (\n        <div\n            id=\"modal-overlay\"\n            className=\"fixed inset-0 z-[100] bg-black/95 flex flex-col p-0 m-0 animate-in fade-in duration-300\"\n            onClick={(e) => {\n                // Save and close when clicking outside the content area\n                if ((e.target as HTMLElement).id === \"modal-overlay\") {\n                    handleSave();\n                }\n            }}\n        >\n            {/* Save Status Toast */}\n            {showToast && (\n                <div className=\"fixed top-12 left-1/2 -translate-x-1/2 z-[150] bg-white text-black px-8 py-3 rounded-full font-black shadow-[0_10px_40px_rgba(255,255,255,0.2)] flex items-center gap-3 animate-in slide-in-from-top-8\">\n                    <div className=\"w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse\" />\n                    保存しました\n                </div>\n            )}\n\n            {/* Header */}\n            <div className=\"h-20 flex items-center justify-between px-8 bg-zinc-950 border-b border-white/5\" onClick={e => e.stopPropagation()}>\n                <div className=\"flex items-center gap-6\">\n                    <button\n                        onClick={onClose}\n                        disabled={isSaving}\n                        className=\"p-3 text-zinc-500 hover:text-white hover:bg-zinc-900 rounded-xl transition-all disabled:opacity-30\"\n                        title=\"変更を破棄して閉じる\"\n                    >\n                        <X size={28} />\n                    </button>\n                    <div>\n                        <h2 className=\"text-white font-black text-xl tracking-tight\">{title}</h2>\n                        <p className=\"text-sm text-zinc-600 font-bold uppercase tracking-widest mt-0.5\">Focus Mode / Full Screen</p>\n                    </div>\n                </div>\n\n                <Button\n                    onClick={handleSave}\n                    disabled={isSaving}\n                    size=\"lg\"\n                    className=\"bg-white text-black hover:bg-zinc-200 font-black px-8 h-12 rounded-xl disabled:bg-zinc-700\"\n                >\n                    <Save size={20} className=\"mr-2\" />\n                    {isSaving ? '保存中...' : '保存して閉じる'}\n                </Button>\n            </div>\n\n            {/* Editor Area */}\n            <div className=\"flex-1 overflow-hidden flex flex-col items-center justify-center p-6 md:p-12\" onClick={(e) => {\n                if ((e.target as HTMLElement).id === \"editor-container\") {\n                    handleSave();\n                }\n            }} id=\"editor-container\">\n                <div\n                    className=\"w-full max-w-5xl bg-zinc-950 rounded-2xl shadow-[0_0_100px_rgba(255,255,255,0.03)] border border-white/10 overflow-hidden\"\n                    onClick={e => e.stopPropagation()}\n                >\n                    <DrawingCanvas\n                        initialData={initialData}\n                        onChange={setCurrentData}\n                        className=\"w-full border-0\"\n                        showTools={true}\n                    />\n                </div>\n\n                <div className=\"mt-8 text-zinc-600 text-xs font-bold tracking-widest uppercase opacity-40\">\n                    画面の外側をタップしてクイック保存\n                </div>\n            </div>\n        </div>\n    );\n};\n","\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Project, Episode, SceneItem, DialogueUnit, CharacterItem, CharacterGroup } from '@/types/project';\nimport { Button } from '@/components/ui/Button';\nimport { Plus, Trash2, GripVertical, MessageSquare, ChevronRight, User, StickyNote } from 'lucide-react';\nimport { DrawingCanvas } from './DrawingCanvas';\nimport { DrawingModal } from './DrawingModal';\nimport { useCharacters } from '@/hooks/useCharacters';\nimport {\n    DndContext,\n    closestCenter,\n    KeyboardSensor,\n    PointerSensor,\n    useSensor,\n    useSensors,\n    DragOverlay,\n    defaultDropAnimationSideEffects,\n    DragStartEvent,\n    DragEndEvent,\n    DragOverEvent,\n    useDroppable,\n} from '@dnd-kit/core';\nimport {\n    arrayMove,\n    SortableContext,\n    sortableKeyboardCoordinates,\n    verticalListSortingStrategy,\n    useSortable,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\n\ninterface Step6ScenesProps {\n    project: Project; // Kept for global characters if needed\n    episode: Episode; // New: Structure data comes from here\n    onUpdate: (updates: Partial<Episode>) => void; // Update Episode data\n}\n\nconst SortableDialogueUnit = (props: {\n    dialogue: DialogueUnit;\n    panelId: string;\n    groupId: string;\n    characters?: CharacterItem[];\n    groups?: CharacterGroup[];\n    onUpdate: (groupId: string, panelId: string, dialogueId: string, updates: Partial<DialogueUnit>) => void;\n    onDelete: (groupId: string, panelId: string, dialogueId: string) => void;\n}) => {\n    const {\n        dialogue,\n        panelId,\n        groupId,\n        characters,\n        groups,\n        onUpdate,\n        onDelete\n    } = props;\n    const selectedChar = characters?.find((c: CharacterItem) => c.id === dialogue.characterId);\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({\n        id: dialogue.id,\n        data: {\n            type: 'dialogue',\n            panelId,\n            groupId\n        }\n    });\n\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.3 : 1,\n        zIndex: isDragging ? 50 : 0,\n    };\n\n    const [showMemo, setShowMemo] = useState(!!dialogue.memo);\n\n    return (\n        <div\n            ref={setNodeRef}\n            style={style}\n            className={`bg-[#0a0a0a]/50 backdrop-blur-sm border ${isDragging ? 'border-zinc-400' : 'border-zinc-700'} rounded-lg p-3 group/dialogue transition-all hover:bg-zinc-800 hover:border-zinc-600`}\n        >\n            <div className=\"flex items-start gap-3\">\n                <div {...attributes} {...listeners} className=\"text-zinc-400 hover:text-white cursor-grab active:cursor-grabbing mt-2 shrink-0\">\n                    <GripVertical size={16} />\n                </div>\n\n                <div className=\"relative w-8 h-8 rounded-full bg-zinc-700 border border-zinc-600 overflow-hidden flex items-center justify-center shrink-0 mt-0.5 group/icon cursor-pointer\">\n                    {selectedChar?.icon ? (\n                        <img src={selectedChar.icon} alt={selectedChar.name} className=\"w-full h-full object-cover\" />\n                    ) : (\n                        <User size={16} className=\"text-zinc-400\" />\n                    )}\n\n                    {/* Hidden Select Overlay */}\n                    {characters && characters.length > 0 && (\n                        <select\n                            value={dialogue.characterId || ''}\n                            onChange={(e) => {\n                                const newId = e.target.value;\n                                const charName = characters.find((c: CharacterItem) => c.id === newId)?.name || '';\n                                onUpdate(groupId, panelId, dialogue.id, {\n                                    characterId: newId,\n                                    character: charName // Auto-fill name on selection\n                                });\n                            }}\n                            className=\"absolute inset-0 opacity-0 cursor-pointer text-[16px] w-full h-full\"\n                            title=\"キャラクターを選択\"\n                        >\n                            <option value=\"\">キャラクター選択解除</option>\n                            {groups && groups.length > 0 ? (\n                                groups.map(group => {\n                                    const groupChars = characters.filter(c => c.groupIds?.includes(group.id));\n                                    if (groupChars.length === 0) return null;\n                                    return (\n                                        <optgroup key={group.id} label={group.name}>\n                                            {groupChars.map(c => (\n                                                <option key={c.id} value={c.id}>\n                                                    {c.name}\n                                                </option>\n                                            ))}\n                                        </optgroup>\n                                    );\n                                })\n                            ) : (\n                                characters.map((c: CharacterItem) => (\n                                    <option key={c.id} value={c.id}>\n                                        {c.name}\n                                    </option>\n                                ))\n                            )}\n                            {groups && groups.length > 0 && characters.filter(c => !c.groupIds || c.groupIds.length === 0).length > 0 && (\n                                <optgroup label=\"その他\">\n                                    {characters.filter(c => !c.groupIds || c.groupIds.length === 0).map(c => (\n                                        <option key={c.id} value={c.id}>\n                                            {c.name}\n                                        </option>\n                                    ))}\n                                </optgroup>\n                            )}\n                        </select>\n                    )}\n                </div>\n\n                <div className=\"w-28 shrink-0 mt-1\">\n                    <input\n                        value={dialogue.character}\n                        onChange={(e) => onUpdate(groupId, panelId, dialogue.id, { character: e.target.value })}\n                        placeholder=\"名前\"\n                        className=\"bg-transparent text-base font-bold text-zinc-300 placeholder:text-zinc-500 focus:outline-none w-full border-b border-transparent focus:border-zinc-600 pb-0.5\"\n                    />\n                </div>\n\n                <div className=\"flex-1 min-w-0\">\n                    <textarea\n                        value={dialogue.text}\n                        onChange={(e) => onUpdate(groupId, panelId, dialogue.id, { text: e.target.value })}\n                        placeholder=\"セリフを入力...\"\n                        rows={1}\n                        className=\"w-full bg-transparent text-base text-zinc-100 placeholder:text-zinc-500 focus:outline-none resize-none leading-relaxed py-1.5 min-h-[32px]\"\n                    />\n\n                    {showMemo && (\n                        <div className=\"relative mt-1\">\n                            <input\n                                value={dialogue.memo}\n                                onChange={(e) => onUpdate(groupId, panelId, dialogue.id, { memo: e.target.value })}\n                                placeholder=\"演出メモを入力...\"\n                                className=\"w-full bg-zinc-900/50 border border-zinc-700/50 rounded px-2 py-1 text-base text-zinc-300 placeholder:text-zinc-500 focus:outline-none focus:border-zinc-600 focus:bg-zinc-900 transition-colors\"\n                            />\n                            <button\n                                onClick={() => {\n                                    onUpdate(groupId, panelId, dialogue.id, { memo: '' });\n                                    setShowMemo(false);\n                                }}\n                                className=\"absolute right-1 top-1/2 -translate-y-1/2 text-zinc-600 hover:text-zinc-400 p-1\"\n                                title=\"メモを削除して閉じる\"\n                            >\n                                <Trash2 size={12} />\n                            </button>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"flex items-center gap-1 mt-0.5 shrink-0 opacity-0 group-hover/dialogue:opacity-100 transition-opacity\">\n                    {!showMemo && (\n                        <button\n                            onClick={() => setShowMemo(true)}\n                            className=\"p-2 text-zinc-500 hover:text-zinc-300 transition-colors\"\n                            title=\"演出メモを追加\"\n                        >\n                            <StickyNote size={16} />\n                        </button>\n                    )}\n                    <button\n                        onClick={() => onDelete(groupId, panelId, dialogue.id)}\n                        className=\"p-2 text-zinc-500 hover:text-red-400 transition-colors\"\n                        title=\"削除\"\n                    >\n                        <Trash2 size={16} />\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SortablePanelCard = ({ item, parentId, activeId, activeType, characters, groups, onUpdateItem, onDeleteItem, onAddDialogue, onUpdateDialogue, onDeleteDialogue, onOpenModal }: {\n    item: SceneItem;\n    parentId: string;\n    activeId: string | null;\n    activeType: 'panel' | 'dialogue' | null;\n    characters?: CharacterItem[];\n    groups?: CharacterGroup[];\n    onUpdateItem: (groupId: string, panelId: string, updates: Partial<SceneItem>) => void;\n    onDeleteItem: (groupId: string, itemId: string) => void;\n    onAddDialogue: (groupId: string, panelId: string) => void;\n    onUpdateDialogue: (groupId: string, panelId: string, dialogueId: string, updates: Partial<DialogueUnit>) => void;\n    onDeleteDialogue: (groupId: string, panelId: string, dialogueId: string) => void;\n    onOpenModal: (panel: SceneItem, groupId: string) => void;\n}) => {\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({\n        id: item.id,\n        data: {\n            type: 'panel',\n            parentId\n        }\n    });\n\n    const { setNodeRef: setDialogueDroppableRef, isOver } = useDroppable({\n        id: `droppable-dialogue-${item.id}`,\n        data: {\n            type: 'dialogue-container',\n            panelId: item.id,\n            parentId\n        }\n    });\n\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.3 : 1,\n    };\n\n    const isActiveDialogueOver = isOver && activeType === 'dialogue';\n\n    return (\n        <div\n            ref={setNodeRef}\n            style={style}\n            className={`bg-zinc-900 rounded-xl border transition-all duration-200 overflow-hidden flex flex-col md:flex-row items-stretch md:items-start w-full relative min-h-[220px] \n                ${isDragging ? 'border-zinc-400 shadow-xl' : 'border-zinc-800'}\n                ${isActiveDialogueOver ? 'ring-2 ring-zinc-400 ring-inset bg-zinc-800' : ''}\n                group`}\n        >\n            <button\n                onClick={() => onDeleteItem(parentId, item.id)}\n                className=\"absolute top-4 right-4 p-2 bg-[#0a0a0a]/80 border border-zinc-700 rounded-lg text-zinc-400 hover:text-red-400 hover:border-red-400 transition-all z-40 opacity-0 group-hover:opacity-100\"\n                title=\"パネルを削除\"\n            >\n                <Trash2 size={18} />\n            </button>\n\n            {/* Canvas Wrapper */}\n            <div\n                className=\"relative w-full md:w-[320px] flex-shrink-0 flex flex-col items-stretch max-h-fit overflow-hidden cursor-pointer group/canvas bg-[#0a0a0a] rounded-t-lg md:rounded-l-lg md:rounded-tr-none\"\n                onClick={() => onOpenModal(item, parentId)}\n            >\n                <div className=\"absolute inset-0 bg-[#0a0a0a]/60 opacity-0 group-hover/canvas:opacity-100 transition-opacity z-10 flex items-center justify-center\">\n                    <span className=\"bg-zinc-900 text-white text-sm font-bold px-4 py-2 rounded-full border border-zinc-600 shadow-lg\">タップして全画面で描画</span>\n                </div>\n                <DrawingCanvas\n                    initialData={item.drawing}\n                    onChange={(dataUrl) => onUpdateItem(parentId, item.id, { drawing: dataUrl })}\n                    className=\"w-full h-full pointer-events-none\"\n                    showTools={false}\n                />\n\n                <div {...attributes} {...listeners} className=\"absolute top-3 left-3 p-2 bg-zinc-900/80 border border-zinc-600 rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing text-white z-20\" onClick={(e) => e.stopPropagation()}>\n                    <GripVertical size={18} />\n                </div>\n            </div>\n\n            <div\n                ref={setDialogueDroppableRef}\n                className={`flex-1 p-6 flex flex-col min-w-0 self-stretch transition-colors ${isActiveDialogueOver ? 'bg-zinc-800' : 'bg-zinc-900/40'}`}\n            >\n                <div className=\"flex items-center justify-between mb-4 pr-12\">\n                    <div className=\"flex items-center gap-2 text-zinc-400\">\n                        <MessageSquare size={16} />\n                        <span className=\"text-sm font-bold\">セリフ・演出</span>\n                    </div>\n                    <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => onAddDialogue(parentId, item.id)}\n                        className=\"text-sm font-bold text-zinc-400 hover:text-white hover:bg-zinc-800 border border-zinc-800 hover:border-zinc-600 px-3\"\n                    >\n                        <Plus size={14} className=\"mr-1.5\" /> 追加\n                    </Button>\n                </div>\n\n                <div className=\"space-y-3 flex-1 overflow-y-auto pr-2\">\n                    <SortableContext\n                        items={item.dialogues?.map(d => d.id) || []}\n                        strategy={verticalListSortingStrategy}\n                    >\n                        {item.dialogues?.map((d) => (\n                            <SortableDialogueUnit\n                                key={d.id}\n                                dialogue={d}\n                                panelId={item.id}\n                                groupId={parentId}\n                                characters={characters}\n                                groups={groups}\n                                onUpdate={onUpdateDialogue}\n                                onDelete={onDeleteDialogue}\n                            />\n                        ))}\n                    </SortableContext>\n\n                    {(!item.dialogues || item.dialogues.length === 0) && (\n                        <div className={`h-full min-h-[100px] flex items-center justify-center border border-dashed rounded-lg transition-colors ${isActiveDialogueOver ? 'border-zinc-500 bg-zinc-800' : 'border-zinc-800'}`}>\n                            <span className=\"text-sm text-zinc-500 font-bold\">\n                                {isActiveDialogueOver ? 'ここにドロップ' : 'セリフがありません'}\n                            </span>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nimport { TAG_LABELS, TagType } from './Step3Structure';\n\n// ... (existing imports)\n\n// ...\n\nconst GroupSection = ({ group, activeId, activeType, characters, groups, onAddItem, onUpdateItem, onDeleteItem, onAddDialogue, onUpdateDialogue, onDeleteDialogue, onOpenModal }: {\n    group: any; // Ideally typed as structureBoard item\n    activeId: string | null;\n    activeType: 'panel' | 'dialogue' | null;\n    characters?: CharacterItem[];\n    groups?: CharacterGroup[];\n    onAddItem: (groupId: string) => void;\n    onUpdateItem: (groupId: string, itemId: string, updates: Partial<SceneItem>) => void;\n    onDeleteItem: (groupId: string, itemId: string) => void;\n    onAddDialogue: (groupId: string, panelId: string) => void;\n    onUpdateDialogue: (groupId: string, panelId: string, dialogueId: string, updates: Partial<DialogueUnit>) => void;\n    onDeleteDialogue: (groupId: string, panelId: string, dialogueId: string) => void;\n    onOpenModal: (panel: SceneItem, groupId: string) => void;\n}) => {\n    const { setNodeRef } = useDroppable({\n        id: group.id,\n        data: {\n            type: 'group'\n        }\n    });\n\n    return (\n        <div ref={setNodeRef} className=\"space-y-8\">\n            <div className=\"flex items-center gap-4 border-b border-zinc-800 pb-2\">\n                <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                    <ChevronRight size={20} className=\"text-zinc-500\" />\n                    <span>{group.content || '名称未定のエピソード'}</span>\n                    {group.tags && group.tags.length > 0 && (\n                        <div className=\"flex gap-1 ml-2\">\n                            {group.tags.map((tag: TagType) => (\n                                <span\n                                    key={tag}\n                                    className={`px-1.5 py-0.5 text-sm rounded border font-bold ${TAG_LABELS[tag]?.bg} ${TAG_LABELS[tag]?.color} border-transparent`}\n                                >\n                                    {TAG_LABELS[tag]?.label}\n                                </span>\n                            ))}\n                        </div>\n                    )}\n                </h3>\n                <div className=\"flex-1\"></div>\n                <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => onAddItem(group.id)}\n                    className=\"text-sm font-bold text-zinc-400 hover:text-white hover:bg-zinc-800 px-4\"\n                >\n                    <Plus size={16} className=\"mr-1.5\" /> パネル追加\n                </Button>\n            </div>\n\n            <div\n                className=\"flex flex-col gap-10 p-4 max-w-5xl mx-auto\"\n            >\n                <SortableContext\n                    items={group.scenes?.map((s: any) => s.id) || []}\n                    strategy={verticalListSortingStrategy}\n                >\n                    {group.scenes?.map((item: any) => (\n                        <SortablePanelCard\n                            key={item.id}\n                            item={item}\n                            activeId={activeId}\n                            activeType={activeType}\n                            parentId={group.id}\n                            characters={characters}\n                            groups={groups}\n                            onUpdateItem={onUpdateItem}\n                            onDeleteItem={onDeleteItem}\n                            onAddDialogue={onAddDialogue}\n                            onUpdateDialogue={onUpdateDialogue}\n                            onDeleteDialogue={onDeleteDialogue}\n                            onOpenModal={onOpenModal}\n                        />\n                    ))}\n                </SortableContext>\n\n                {group.scenes?.length === 0 ? (\n                    <div className=\"py-20 flex flex-col items-center justify-center border-2 border-dashed border-zinc-800 rounded-3xl opacity-50 hover:opacity-100 transition-opacity\">\n                        <p className=\"text-zinc-500 text-sm font-bold mb-4\">パネルがありません</p>\n                        <Button\n                            onClick={() => onAddItem(group.id)}\n                            className=\"bg-zinc-800 hover:bg-zinc-700 text-white font-bold px-6 py-2 rounded-full\"\n                        >\n                            <Plus size={16} className=\"mr-2\" /> 最初の一枚を追加\n                        </Button>\n                    </div>\n                ) : (\n                    <div className=\"flex justify-center pt-4\">\n                        <Button\n                            variant=\"ghost\"\n                            onClick={() => onAddItem(group.id)}\n                            className=\"text-sm font-bold text-zinc-500 hover:text-white border border-dashed border-zinc-700 hover:border-zinc-500 px-8 py-6 rounded-xl w-full\"\n                        >\n                            <Plus size={16} className=\"mr-2\" /> ここにパネルを追加\n                        </Button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport const Step6Scenes: React.FC<Step6ScenesProps> = ({ project, episode, onUpdate }) => {\n    const { characters: globalCharacters, groups: globalGroups } = useCharacters();\n\n    const linkedIds = episode.linkedCharacterIds || [];\n    const linkedCharacters = globalCharacters.filter(c => linkedIds.includes(c.id));\n    // Fallback/Legacy\n    const legacyCharacters = project.characters || [];\n    const availableCharacters = [...linkedCharacters, ...legacyCharacters];\n    // De-duplicate just in case\n    const uniqueChars = Array.from(new Map(availableCharacters.map(c => [c.id, c])).values());\n\n    const [structure, setStructure] = useState(episode.structureBoard || []);\n    const [activeId, setActiveId] = useState<string | null>(null);\n    const [activeType, setActiveType] = useState<'panel' | 'dialogue' | null>(null);\n\n    const [modalState, setModalState] = useState<{ isOpen: boolean, panel: SceneItem | null, groupId: string }>({\n        isOpen: false,\n        panel: null,\n        groupId: ''\n    });\n\n    useEffect(() => {\n        setStructure(episode.structureBoard || []);\n    }, [episode.structureBoard]);\n\n    const sensors = useSensors(\n        useSensor(PointerSensor, { activationConstraint: { distance: 8, delay: 100 } }),\n        useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\n    );\n\n    const handleOpenModal = (panel: SceneItem, groupId: string) => {\n        setModalState({ isOpen: true, panel, groupId });\n    };\n\n    const handleUpdatePanelInModal = (dataUrl: string) => {\n        if (modalState.panel) {\n            handleUpdateItem(modalState.groupId, modalState.panel.id, { drawing: dataUrl });\n            setModalState(prev => ({ ...prev, panel: { ...prev.panel!, drawing: dataUrl } }));\n        }\n    };\n\n    const handleAddItem = (groupId: string) => {\n        const newItem: SceneItem = {\n            id: crypto.randomUUID(),\n            drawing: '',\n            dialogues: []\n        };\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return { ...g, scenes: [...(g.scenes || []), newItem] };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const handleUpdateItem = async (groupId: string, panelId: string, updates: Partial<SceneItem>) => {\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return {\n                    ...g,\n                    scenes: (g.scenes || []).map(s => s.id === panelId ? { ...s, ...updates } : s)\n                };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        // await onUpdate({ structureBoard: newStructure }); // Removed await to prevent lag\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const handleDeleteItem = (groupId: string, panelId: string) => {\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return { ...g, scenes: (g.scenes || []).filter(s => s.id !== panelId) };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const handleAddDialogue = (groupId: string, panelId: string) => {\n        const newDialogue: DialogueUnit = {\n            id: crypto.randomUUID(),\n            character: '',\n            text: '',\n            memo: ''\n        };\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return {\n                    ...g,\n                    scenes: (g.scenes || []).map(s => {\n                        if (s.id === panelId) {\n                            return { ...s, dialogues: [...(s.dialogues || []), newDialogue] };\n                        }\n                        return s;\n                    })\n                };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const handleUpdateDialogue = (groupId: string, panelId: string, dialogueId: string, updates: Partial<DialogueUnit>) => {\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return {\n                    ...g,\n                    scenes: (g.scenes || []).map(s => {\n                        if (s.id === panelId) {\n                            return {\n                                ...s,\n                                dialogues: (s.dialogues || []).map(d => d.id === dialogueId ? { ...d, ...updates } : d)\n                            };\n                        }\n                        return s;\n                    })\n                };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const handleDeleteDialogue = (groupId: string, panelId: string, dialogueId: string) => {\n        const newStructure = structure.map(g => {\n            if (g.id === groupId) {\n                return {\n                    ...g,\n                    scenes: (g.scenes || []).map(s => {\n                        if (s.id === panelId) {\n                            return { ...s, dialogues: (s.dialogues || []).filter(d => d.id !== dialogueId) };\n                        }\n                        return s;\n                    })\n                };\n            }\n            return g;\n        });\n        setStructure(newStructure);\n        onUpdate({ structureBoard: newStructure });\n    };\n\n    const findGroup = (id: string, type: 'panel' | 'dialogue') => {\n        if (type === 'panel') {\n            return structure.find(g => g.id === id || g.scenes?.some(s => s.id === id))?.id;\n        } else {\n            for (const group of structure) {\n                for (const panel of group.scenes || []) {\n                    if (panel.dialogues?.some(d => d.id === id)) return group.id;\n                }\n            }\n        }\n        return null;\n    };\n\n    const handleDragStart = (event: DragStartEvent) => {\n        const { active } = event;\n        setActiveId(active.id as string);\n        setActiveType(active.data.current?.type as 'panel' | 'dialogue');\n    };\n\n    const handleDragOver = (event: DragOverEvent) => {\n        const { active, over } = event;\n        if (!over || active.id === over.id) return;\n\n        const activeData = active.data.current;\n        const overData = over.data.current;\n\n        if (activeData?.type === 'dialogue') {\n            const activePanelId = activeData.panelId;\n            let overPanelId = '';\n            if (overData?.type === 'dialogue') {\n                overPanelId = overData.panelId;\n            } else if (overData?.type === 'dialogue-container') {\n                overPanelId = overData.panelId;\n            } else if (overData?.type === 'panel') {\n                overPanelId = over.id as string;\n            }\n\n            if (overPanelId && activePanelId !== overPanelId) {\n                setStructure(prev => {\n                    const newStructure = JSON.parse(JSON.stringify(prev));\n                    let draggedItem: DialogueUnit | undefined;\n\n                    newStructure.forEach((g: any) => {\n                        g.scenes?.forEach((s: any) => {\n                            if (s.id === activePanelId) {\n                                const dialogueIndex = s.dialogues?.findIndex((d: any) => d.id === active.id);\n                                if (dialogueIndex !== -1) {\n                                    draggedItem = s.dialogues[dialogueIndex];\n                                    s.dialogues.splice(dialogueIndex, 1);\n                                }\n                            }\n                        });\n                    });\n\n                    if (draggedItem) {\n                        newStructure.forEach((g: any) => {\n                            g.scenes?.forEach((s: any) => {\n                                if (s.id === overPanelId) {\n                                    s.dialogues = s.dialogues || [];\n                                    const overIndex = s.dialogues.findIndex((d: any) => d.id === over.id);\n                                    if (overIndex >= 0) {\n                                        s.dialogues.splice(overIndex, 0, draggedItem);\n                                    } else {\n                                        s.dialogues.push(draggedItem);\n                                    }\n                                }\n                            });\n                        });\n                    }\n                    return newStructure;\n                });\n                active.data.current!.panelId = overPanelId;\n            }\n        } else if (activeData?.type === 'panel') {\n            const activeGroupId = activeData.parentId;\n            const overGroupId = overData?.type === 'panel' ? overData.parentId : over.id;\n\n            if (activeGroupId !== overGroupId) {\n                setStructure(prev => {\n                    const newStructure = JSON.parse(JSON.stringify(prev));\n                    let draggedItem: SceneItem | undefined;\n\n                    newStructure.forEach((g: any) => {\n                        if (g.id === activeGroupId) {\n                            draggedItem = g.scenes?.find((s: any) => s.id === active.id);\n                            g.scenes = g.scenes?.filter((s: any) => s.id !== active.id);\n                        }\n                    });\n\n                    if (draggedItem) {\n                        newStructure.forEach((g: any) => {\n                            if (g.id === overGroupId) {\n                                const scenes = [...(g.scenes || [])];\n                                const overIndex = scenes.findIndex(s => s.id === over.id);\n                                if (overIndex >= 0) {\n                                    scenes.splice(overIndex, 0, draggedItem!);\n                                } else {\n                                    scenes.push(draggedItem!);\n                                }\n                                g.scenes = scenes;\n                            }\n                        });\n                    }\n                    return newStructure;\n                });\n                active.data.current!.parentId = overGroupId;\n            }\n        }\n    };\n\n    const handleDragEnd = (event: DragEndEvent) => {\n        const { active, over } = event;\n        setActiveId(null);\n        setActiveType(null);\n\n        if (!over) return;\n\n        if (active.id !== over.id) {\n            const activeData = active.data.current;\n            const overData = over.data.current;\n\n            if (activeData?.type === 'dialogue') {\n                let activePanelId = '';\n                structure.forEach(g => g.scenes?.forEach(s => {\n                    if (s.dialogues?.some(d => d.id === active.id)) activePanelId = s.id;\n                }));\n\n                const overPanelId = overData?.panelId || (overData?.type === 'panel' ? over.id : null);\n\n                if (activePanelId && activePanelId === overPanelId) {\n                    setStructure(prev => prev.map(g => ({\n                        ...g,\n                        scenes: (g.scenes || []).map(s => {\n                            if (s.id === activePanelId) {\n                                const oldIndex = s.dialogues?.findIndex(d => d.id === active.id) ?? -1;\n                                const newIndex = s.dialogues?.findIndex(d => d.id === over.id) ?? -1;\n                                if (oldIndex !== -1 && newIndex !== -1) {\n                                    return { ...s, dialogues: arrayMove(s.dialogues, oldIndex, newIndex) };\n                                }\n                            }\n                            return s;\n                        })\n                    })));\n                }\n            } else if (activeData?.type === 'panel') {\n                let activeGroupId = '';\n                structure.forEach(g => {\n                    if (g.scenes?.some(s => s.id === active.id)) activeGroupId = g.id;\n                });\n\n                const overGroupId = overData?.parentId || (overData?.type === 'container' ? over.id : null);\n\n                if (activeGroupId && activeGroupId === overGroupId) {\n                    setStructure(prev => prev.map(g => {\n                        if (g.id === activeGroupId) {\n                            const scenes = g.scenes || [];\n                            const oldIndex = scenes.findIndex((s: SceneItem) => s.id === active.id) ?? -1;\n                            const newIndex = scenes.findIndex((s: SceneItem) => s.id === over.id) ?? -1;\n                            if (oldIndex !== -1 && newIndex !== -1) {\n                                return { ...g, scenes: arrayMove(scenes, oldIndex, newIndex) };\n                            }\n                        }\n                        return g;\n                    }));\n                }\n            }\n        }\n        onUpdate({ structureBoard: structure });\n    };\n\n    const allPanels = structure.flatMap(g => g.scenes || []);\n    const activePanel = allPanels.find(p => p.id === activeId);\n    // const activeDialogue = allPanels.flatMap(p => p.dialogues || []).find(d => d.id === activeId);\n\n    return (\n        <div className=\"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20\">\n            <div>\n                <h2 className=\"text-2xl font-black flex items-center gap-3 text-white\">\n                    <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-white text-zinc-900 text-sm\">5</span>\n                    ネーム制作 (下書き)\n                </h2>\n                <p className=\"text-zinc-500 text-sm mt-2 font-medium tracking-wide\">\n                    エピソードをコマ（パネル）に落とし込み、セリフや演出を細かく構築します。\n                </p>\n            </div>\n\n            <DndContext\n                sensors={sensors}\n                collisionDetection={closestCenter}\n                onDragStart={handleDragStart}\n                onDragOver={handleDragOver}\n                onDragEnd={handleDragEnd}\n            >\n                <div className=\"space-y-20\">\n                    {structure.length === 0 ? (\n                        <div className=\"py-20 flex flex-col items-center justify-center border-2 border-dashed border-zinc-800 rounded-3xl bg-white/5\">\n                            <StickyNote size={48} className=\"text-zinc-500 mb-4\" />\n                            <p className=\"text-zinc-300 font-bold mb-2\">構成データが見つかりません</p>\n                            <p className=\"text-zinc-400 text-sm text-center leading-relaxed\">\n                                Step 3 \"構成・構成案\" でエピソードの構成を作成してください。<br />\n                                または、データが読み込まれていない可能性があります。\n                            </p>\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => window.location.reload()}\n                                className=\"mt-6 text-sm border-zinc-700 text-zinc-300 hover:text-white hover:bg-zinc-800\"\n                            >\n                                ページをリロード\n                            </Button>\n                        </div>\n                    ) : (\n                        structure.map((group) => (\n                            <GroupSection\n                                key={group.id}\n                                group={group}\n                                activeId={activeId}\n                                activeType={activeType}\n                                characters={uniqueChars}\n                                groups={globalGroups}\n                                onAddItem={handleAddItem}\n                                onUpdateItem={handleUpdateItem}\n                                onDeleteItem={handleDeleteItem}\n                                onAddDialogue={handleAddDialogue}\n                                onUpdateDialogue={handleUpdateDialogue}\n                                onDeleteDialogue={handleDeleteDialogue}\n                                onOpenModal={handleOpenModal}\n                            />\n                        ))\n                    )}\n                </div>\n\n                <DragOverlay dropAnimation={{ sideEffects: defaultDropAnimationSideEffects({ styles: { active: { opacity: '0.4' } } }) }}>\n                    {activeId && activeType === 'panel' && activePanel ? (\n                        <div className=\"w-[800px] shadow-[0_0_50px_rgba(255,255,255,0.1)]\">\n                            <SortablePanelCard\n                                item={activePanel}\n                                parentId={findGroup(activeId, 'panel')!}\n                                activeId={null}\n                                activeType={null}\n                                characters={uniqueChars}\n                                groups={globalGroups}\n                                onUpdateItem={handleUpdateItem}\n                                onDeleteItem={handleDeleteItem}\n                                onAddDialogue={handleAddDialogue}\n                                onUpdateDialogue={handleUpdateDialogue}\n                                onDeleteDialogue={handleDeleteDialogue}\n                                onOpenModal={handleOpenModal}\n                            />\n                        </div>\n                    ) : null}\n                </DragOverlay>\n            </DndContext>\n\n            {modalState.isOpen && modalState.panel && (\n                <DrawingModal\n                    isOpen={modalState.isOpen}\n                    onClose={() => setModalState(prev => ({ ...prev, isOpen: false }))}\n                    initialData={modalState.panel.drawing}\n                    onSave={handleUpdatePanelInModal}\n                />\n            )}\n        </div>\n    );\n};","\"use client\";\n\nimport React, { useRef } from 'react';\nimport { Project, CharacterItem } from '@/types/project';\nimport { useCharacters } from '@/hooks/useCharacters';\nimport { Button } from '@/components/ui/Button';\nimport { Printer, FileText, User, BookOpen, Film } from 'lucide-react';\nimport { TAG_LABELS, TagType } from './Step3Structure';\n\ninterface Step7ExportProps {\n    project: Project;\n    onUpdate: (updatedProject: Project) => void;\n}\n\nexport const Step7Export: React.FC<Step7ExportProps> = ({ project }) => {\n    const { characters: allCharacters, groups } = useCharacters();\n\n    // プロジェクトに関連付けられたキャラを復元\n    const projectCharacters = (project.linkedCharacterIds || [])\n        .map(id => allCharacters.find(c => c.id === id))\n        .filter((c): c is CharacterItem => !!c);\n\n    // 救済措置: 古いデータ形式のキャラも表示\n    const displayCharacters = projectCharacters.length > 0\n        ? projectCharacters\n        : (project.characters || []);\n\n    const handlePrint = () => {\n        window.print();\n    };\n\n    // シーンデータをフラット化して取得\n    const allScenes = (project.structureBoard || []).flatMap(group =>\n        (group.scenes || []).map(scene => ({\n            ...scene,\n            groupTitle: group.content,\n            groupTags: group.tags as TagType[] | undefined\n        }))\n    );\n\n    return (\n        <div className=\"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n\n            {/* --- ツールバー (印刷時には消える) --- */}\n            <div className=\"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 flex flex-col md:flex-row items-center justify-between gap-4 print:hidden\">\n                <div>\n                    <h2 className=\"text-xl font-bold flex items-center gap-2 text-zinc-900 dark:text-zinc-50\">\n                        <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-900 text-zinc-50 text-sm dark:bg-zinc-100 dark:text-zinc-900\">6</span>\n                        企画書出力\n                    </h2>\n                    <p className=\"text-zinc-500 dark:text-zinc-400 text-sm\">\n                        下のボタンを押すと、このページを印刷またはPDFとして保存できます。\n                    </p>\n                </div>\n                <Button onClick={handlePrint} className=\"font-bold px-6 rounded-full shadow-lg\">\n                    <Printer size={18} className=\"mr-2\" />\n                    印刷 / PDF保存\n                </Button>\n            </div>\n\n            {/* --- 企画書本体 (A4風レイアウト) --- */}\n            <div className=\"print-container bg-white text-black p-8 md:p-16 rounded-sm shadow-2xl min-h-[297mm] relative overflow-hidden\">\n                {/* 印刷用スタイル (このコンポーネント内限定) */}\n                <style jsx global>{`\n                    @media print {\n                        @page { size: A4; margin: 0; }\n                        body { background: white; }\n                        /* アプリのサイドバーやヘッダーを隠す */\n                        aside, header, nav, .print\\:hidden { display: none !important; }\n                        /* メインコンテンツをリセット */\n                        main { margin: 0 !important; padding: 0 !important; width: 100% !important; max-width: none !important; }\n                        /* 企画書エリアを表示 */\n                        .print-container {\n                            width: 100%;\n                            margin: 0;\n                            padding: 20mm;\n                            box-shadow: none;\n                            border: none;\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                            visibility: visible;\n                        }\n                        /* 改ページ制御 */\n                        .page-break { page-break-before: always; }\n                        .keep-together { break-inside: avoid; }\n                    }\n                `}</style>\n\n                {/* --- 1. 表紙・基本情報 --- */}\n                <section className=\"mb-16 border-b-4 border-black pb-8\">\n                    <div className=\"text-sm font-bold tracking-widest text-zinc-500 uppercase mb-2\">Project Proposal</div>\n                    <h1 className=\"text-5xl font-black mb-6 leading-tight\">{project.title || '無題のプロジェクト'}</h1>\n                    <p className=\"text-xl font-medium leading-relaxed text-zinc-700 whitespace-pre-wrap\">\n                        {project.description || 'ログライン（一行あらすじ）が入力されていません。'}\n                    </p>\n                    <div className=\"mt-8 flex gap-4 text-sm text-zinc-500\">\n                        <span>最終更新: {new Date(project.lastEdited).toLocaleDateString()}</span>\n                    </div>\n                </section>\n\n                {/* --- 2. コンセプト --- */}\n                <section className=\"mb-12 keep-together\">\n                    <h3 className=\"text-2xl font-bold border-l-8 border-black pl-4 mb-6 flex items-center gap-2\">\n                        <BookOpen size={24} /> 企画コンセプト\n                    </h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                        <div className=\"bg-zinc-50 p-6 rounded-lg border border-zinc-100\">\n                            <h4 className=\"font-bold text-zinc-400 text-sm uppercase mb-2\">テーマ (Theme)</h4>\n                            <p className=\"text-lg font-serif font-bold\">{project.concept?.theme || '-'}</p>\n                        </div>\n                        <div className=\"bg-zinc-50 p-6 rounded-lg border border-zinc-100\">\n                            <h4 className=\"font-bold text-zinc-400 text-sm uppercase mb-2\">読後感 (Emotion)</h4>\n                            <p className=\"text-lg\">{project.concept?.emotions || '-'}</p>\n                        </div>\n\n                    </div>\n                </section>\n\n                {/* --- 3. キャラクター --- */}\n                <section className=\"mb-12\">\n                    <h3 className=\"text-2xl font-bold border-l-8 border-black pl-4 mb-6 flex items-center gap-2\">\n                        <User size={24} /> 主要キャラクター\n                    </h3>\n                    <div className=\"grid grid-cols-1 gap-6\">\n                        {displayCharacters.length > 0 ? (\n                            displayCharacters.map((char) => (\n                                <div key={char.id} className=\"flex gap-6 p-4 border border-zinc-200 rounded-xl items-start keep-together\">\n                                    <div className=\"w-20 h-20 bg-zinc-100 rounded-full shrink-0 overflow-hidden border border-zinc-200\">\n                                        {char.icon ? (\n                                            <img src={char.icon} alt={char.name} className=\"w-full h-full object-cover grayscale\" />\n                                        ) : (\n                                            <div className=\"w-full h-full flex items-center justify-center text-zinc-300\">\n                                                <User size={32} />\n                                            </div>\n                                        )}\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <div className=\"flex items-center gap-2 mb-1\">\n                                            <h4 className=\"text-lg font-bold\">{char.name}</h4>\n\n                                        </div>\n                                        <p className=\"text-sm text-zinc-700 whitespace-pre-wrap leading-relaxed\">\n                                            {char.description || '詳細設定なし'}\n                                        </p>\n                                    </div>\n                                </div>\n                            ))\n                        ) : (\n                            <p className=\"text-zinc-400 italic\">キャラクターが登録されていません。</p>\n                        )}\n                    </div>\n                </section>\n\n                <div className=\"page-break\" />\n\n                {/* --- 4. ストーリー構成 --- */}\n                <section className=\"mb-12 mt-8\">\n                    <h3 className=\"text-2xl font-bold border-l-8 border-black pl-4 mb-6 flex items-center gap-2\">\n                        <Film size={24} /> ストーリーライン\n                    </h3>\n\n                    {/* Outline */}\n                    <div className=\"grid grid-cols-2 gap-4 mb-8\">\n                        <div className=\"p-4 bg-zinc-50 border-l-4 border-zinc-300\">\n                            <span className=\"block text-sm font-bold text-zinc-400 mb-1\">START</span>\n                            <p className=\"font-medium text-sm\">{project.outline?.start || '-'}</p>\n                        </div>\n                        <div className=\"p-4 bg-zinc-50 border-l-4 border-zinc-300\">\n                            <span className=\"block text-sm font-bold text-zinc-400 mb-1\">GOAL</span>\n                            <p className=\"font-medium text-sm\">{project.outline?.end || '-'}</p>\n                        </div>\n                    </div>\n\n                    {/* Plot / Scenes */}\n                    <div className=\"space-y-4\">\n                        <h4 className=\"font-bold text-lg mb-4 border-b border-zinc-200 pb-2\">シーン構成 (ネーム)</h4>\n                        {allScenes.length > 0 ? (\n                            allScenes.map((scene, index) => (\n                                <div key={scene.id} className=\"flex gap-4 items-baseline border-b border-zinc-100 pb-3 keep-together\">\n                                    <span className=\"font-mono text-zinc-400 w-8 shrink-0 text-right\">#{index + 1}</span>\n                                    <div className=\"flex-1\">\n                                        <div className=\"mb-1 flex items-center gap-2\">\n                                            <span className=\"font-bold text-sm text-zinc-500 uppercase\">{scene.groupTitle}</span>\n                                            {scene.groupTags && scene.groupTags.length > 0 && (\n                                                <div className=\"flex gap-1\">\n                                                    {scene.groupTags.map((tag) => (\n                                                        <span\n                                                            key={tag}\n                                                            className={`px-1.5 py-0.5 text-sm rounded border font-bold bg-white ${TAG_LABELS[tag]?.color} border-zinc-300`}\n                                                        >\n                                                            {TAG_LABELS[tag]?.label}\n                                                        </span>\n                                                    ))}\n                                                </div>\n                                            )}\n                                        </div>\n\n                                        {/* 画像がある場合 */}\n                                        {scene.drawing && (\n                                            <div className=\"mb-2 w-32 h-20 border border-zinc-200 bg-zinc-50 overflow-hidden\">\n                                                <img src={scene.drawing} className=\"w-full h-full object-contain\" />\n                                            </div>\n                                        )}\n\n                                        <div className=\"space-y-1\">\n                                            {scene.dialogues?.map((d: any, i: number) => {\n                                                const char = displayCharacters.find(c => c.id === d.characterId);\n                                                return (\n                                                    <div key={i} className=\"text-sm flex gap-2\">\n                                                        <span className=\"font-bold text-zinc-600 shrink-0 text-sm w-16 truncate\">\n                                                            {char?.name || d.character || '???'}\n                                                        </span>\n                                                        <span className=\"text-zinc-800\">「{d.text}」</span>\n                                                    </div>\n                                                )\n                                            })}\n                                        </div>\n                                    </div>\n                                </div>\n                            ))\n                        ) : (\n                            <p className=\"text-zinc-400 italic\">シーンが作成されていません。</p>\n                        )}\n                    </div>\n                </section>\n\n                {/* フッター */}\n                <div className=\"mt-20 pt-8 border-t border-zinc-200 text-center text-zinc-400 text-sm flex justify-between items-center\">\n                    <span>Generated by Manga Support App</span>\n                    <span>{new Date().toLocaleDateString()} 出力</span>\n                </div>\n            </div>\n        </div>\n    );\n};","\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { ChevronRight, ArrowLeft, Menu } from \"lucide-react\";\nimport { Button } from \"@/components/ui/Button\";\nimport { useEpisode } from \"@/hooks/useEpisodes\";\nimport { Step1Concept } from \"@/components/Steps/Step1Concept\";\nimport { Step2Outline } from \"@/components/Steps/Step2Outline\";\nimport { Step3Structure } from \"@/components/Steps/Step3Structure\";\nimport { StepCharacterList } from \"@/components/Steps/StepCharacterList\";\nimport { Step6Scenes } from \"@/components/Steps/Step6Scenes\";\nimport { Step7Export } from \"@/components/Steps/Step7Export\";\nimport { UserMenu } from \"@/components/UserMenu\";\n\n// Steps for specific Episode\nconst steps = [\n    { id: '1', label: '1. 企画コンセプト', component: Step1Concept },\n    { id: '2', label: '2. あらすじ作成', component: Step2Outline },\n    { id: '3', label: '3. 構造設計', component: Step3Structure },\n    { id: '4', label: '4. キャラクター選択', component: StepCharacterList },\n    { id: '5', label: '5. ネーム制作', component: Step6Scenes },\n    { id: '6', label: '6. 企画書出力', component: Step7Export },\n] as const;\n\nexport function EpisodePageClient({ projectId, episodeId }: { projectId: string, episodeId: string }) {\n    const { project, episode, loading, updateEpisode } = useEpisode(projectId, episodeId);\n    const [currentStep, setCurrentStep] = useState<string>('1');\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n    if (loading) return <div className=\"p-10 text-center text-zinc-500\">Loading...</div>;\n    if (!project) return <div className=\"p-10 text-center text-zinc-500\">Project Not Found</div>;\n    if (!episode) return <div className=\"p-10 text-center text-zinc-500\">Episode Not Found</div>;\n\n    const CurrentComponent = steps.find((s) => s.id === currentStep)?.component || Step1Concept;\n\n    // --- MOCK PROJECT DATA FOR REUSABILITY ---\n    // The existing components expect a \"Project\" object that contains the story data (concept, outline, etc.)\n    // We create a temporary object that merges the Parent Project (for global chars) with the Episode (for story data)\n    // allowing us to reuse the Step components without rewriting them all.\n    const mockProjectData = {\n        ...project, // Global settings (characters, etc.)\n        ...episode, // Overwrite with Episode data (concept, outline, structure, etc.)\n        id: project.id, // Keep Project ID for consistency in some checks, or use episode.id if needed. \n        // But usually components use ID for keys. Let's keep Project ID for global refs, \n        // but actually Step6Scenes uses 'episode' prop now.\n        // For other steps (1, 2, 3), they likely rely on properties being present on the passed object.\n    };\n\n    // Wrapper for update to translate \"Project updates\" back to \"Episode updates\"\n    const handleStepUpdate = (updates: any) => {\n        // We only want to save the fields that belong to Episode\n        const episodeFields = ['title', 'concept', 'outline', 'structureBoard', 'structureBeats', 'linkedCharacterIds'];\n        const cleanUpdates: any = {};\n\n        Object.keys(updates).forEach(key => {\n            if (episodeFields.includes(key)) {\n                cleanUpdates[key] = updates[key];\n            }\n        });\n\n        if (Object.keys(cleanUpdates).length > 0) {\n            updateEpisode(cleanUpdates);\n        }\n    };\n\n    const SidebarContent = () => (\n        <>\n            <div className=\"p-6 border-b border-zinc-800\">\n                <Link href={`/projects/${projectId}`} className=\"flex items-center text-xs text-zinc-400 hover:text-white mb-4 transition-colors\">\n                    <ArrowLeft className=\"w-3 h-3 mr-1\" />\n                    シリーズ詳細へ戻る\n                </Link>\n                <h1 className=\"font-bold text-sm text-zinc-400 mb-1 truncate\">{project.title}</h1>\n                <h2 className=\"font-bold text-xl text-white truncate\">{episode.title}</h2>\n            </div>\n            <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\n                <div className=\"text-[10px] font-black text-zinc-500 uppercase tracking-widest px-4 mb-2\">制作ステップ</div>\n                {steps.map((step) => (\n                    <Button\n                        key={step.id}\n                        onClick={() => {\n                            setCurrentStep(step.id);\n                            setIsSidebarOpen(false);\n                        }}\n                        variant={currentStep === step.id ? \"default\" : \"ghost\"}\n                        className={`w-full justify-start text-left overflow-hidden ${currentStep === step.id ? \"font-bold bg-[#0077BE] text-white hover:bg-[#0077BE]/90\" : \"text-zinc-400 hover:text-white hover:bg-zinc-800\"}`}\n                    >\n                        <span className=\"flex-1 truncate\">{step.label}</span>\n                        {currentStep === step.id && <ChevronRight className=\"w-4 h-4 opacity-100 flex-shrink-0 ml-2\" />}\n                    </Button>\n                ))}\n            </nav>\n            <div className=\"p-4 border-t border-zinc-800 mt-auto\">\n                <UserMenu showName={true} />\n            </div>\n        </>\n    );\n\n    return (\n        <div className=\"flex bg-zinc-50 min-h-screen dark:bg-zinc-950\">\n            {/* Desktop Sidebar */}\n            <aside className=\"w-64 fixed h-full bg-[#253341] border-r border-zinc-800 z-30 hidden md:flex flex-col\">\n                <SidebarContent />\n            </aside>\n\n            {/* Mobile Sidebar */}\n            {isSidebarOpen && (\n                <div className=\"md:hidden fixed inset-0 bg-black/50 z-40 transition-opacity\" onClick={() => setIsSidebarOpen(false)} />\n            )}\n            <aside className={`md:hidden fixed inset-y-0 left-0 w-72 bg-[#253341] z-50 transform transition-transform duration-300 ease-in-out border-r border-zinc-800 ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>\n                <div className=\"flex flex-col h-full border-r border-transparent\">\n                    <SidebarContent />\n                </div>\n            </aside>\n\n            {/* Mobile Header */}\n            <header className=\"md:hidden fixed top-0 w-full bg-white border-b border-zinc-200 z-20 px-4 h-14 flex items-center justify-between dark:bg-zinc-950 dark:border-zinc-800\">\n                <div className=\"flex items-center gap-3\">\n                    <button onClick={() => setIsSidebarOpen(true)} className=\"p-1 -ml-1 text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100\">\n                        <Menu size={20} />\n                    </button>\n                    <span className=\"font-bold text-zinc-900 dark:text-zinc-50 truncate max-w-[200px]\">{episode.title}</span>\n                </div>\n                <UserMenu />\n            </header>\n\n            {/* Main Content */}\n            <main className=\"flex-1 md:ml-64 p-4 md:p-8 pt-20 md:pt-8 animate-in fade-in duration-500\">\n                <div className=\"max-w-5xl mx-auto\">\n                    {/* \n                        We pass 'mockProjectData' as 'project' to trick the components into working \n                        with Episode data. For Step6Scenes, we explicitly pass 'episode'.\n                    */}\n                    <CurrentComponent\n                        project={mockProjectData}\n                        episode={episode}\n                        onUpdate={handleStepUpdate}\n                    />\n                </div>\n            </main>\n        </div>\n    );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport { Project, Episode } from '@/types/project';\nimport { useProject } from '@/hooks/useProjects';\n\nexport const useEpisode = (projectId: string, episodeId: string) => {\n    // Switch to useProject (singular) to fetch full details including episodes\n    const { project, loading: projectLoading, updateProject } = useProject(projectId);\n    const [episode, setEpisode] = useState<Episode | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    const syncTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    useEffect(() => {\n        if (projectLoading) return;\n\n        if (project) {\n            const foundEpisode = project.episodes?.find(e => e.id === episodeId);\n            setEpisode(foundEpisode || null);\n        } else {\n            setEpisode(null);\n        }\n        setLoading(false);\n    }, [project, episodeId, projectLoading]);\n\n    const updateEpisode = (updates: Partial<Episode>) => {\n        if (!project || !episode) return;\n\n        const updatedEpisode = { ...episode, ...updates, lastEdited: new Date().toISOString() };\n        setEpisode(updatedEpisode);\n\n        // 1. Update LOCAL state immediately (Skip Project Cloud Save)\n        const updatedEpisodes = project.episodes?.map(e => e.id === episodeId ? updatedEpisode : e) || [];\n        updateProject({ episodes: updatedEpisodes }, { localOnly: true });\n\n        // 2. Persist ONLY this Episode to Cloud (Debounced)\n        if (syncTimeoutRef.current) clearTimeout(syncTimeoutRef.current);\n        const timeoutId = setTimeout(async () => {\n            try {\n                // Determine what to send - only send fields that are present in updates to match our API logic\n                // Or simply send the updated fields.\n                // For simplicity and robustness, we send the specific known large fields if they are in 'updates',\n                // plus standard fields. \n                // However, the API we built merges whatever we send.\n                // Let's send the specific updates + IDs.\n\n                await fetch(`/api/projects/${projectId}/episodes/${episodeId}`, {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(updates)\n                });\n            } catch (err) {\n                console.error(\"Episode auto-save failed\", err);\n            }\n        }, 1000);\n        syncTimeoutRef.current = timeoutId;\n    };\n\n    return {\n        project,\n        episode,\n        loading: loading || projectLoading,\n        updateEpisode\n    };\n};\n","import React, { useState, useEffect } from 'react';\nimport { Project } from '@/types/project';\nimport { Button } from '@/components/ui/Button';\nimport { Plus, X, GripVertical } from 'lucide-react';\nimport {\n    DndContext,\n    closestCenter,\n    KeyboardSensor,\n    PointerSensor,\n    useSensor,\n    useSensors,\n    DragOverlay,\n    defaultDropAnimationSideEffects,\n    DragStartEvent,\n    DragEndEvent,\n} from '@dnd-kit/core';\nimport {\n    arrayMove,\n    SortableContext,\n    sortableKeyboardCoordinates,\n    verticalListSortingStrategy,\n    useSortable,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\n\ninterface Step3StructureProps {\n    project: Project;\n    onUpdate: (updates: Partial<Project>) => void;\n}\n\nexport type TagType = 'vs' | 'wakuwaku' | 'dokidoki' | 'bikkuri';\n\ninterface CardData {\n    id: string;\n    content: string;\n    act: '1' | '2' | '3';\n    tags?: TagType[];\n}\n\nexport const TAG_LABELS: Record<TagType, { label: string; color: string; bg: string }> = {\n    vs: { label: 'VS', color: 'text-red-600', bg: 'bg-red-100 dark:bg-red-900/30 dark:text-red-400' },\n    wakuwaku: { label: 'ワクワク', color: 'text-orange-600', bg: 'bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400' },\n    dokidoki: { label: 'ドキドキ', color: 'text-purple-600', bg: 'bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400' },\n    bikkuri: { label: 'ビックリ', color: 'text-blue-600', bg: 'bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400' },\n};\n\nconst SortableCard = ({ card, onDelete, onUpdate, isOverlay = false }: {\n    card: CardData;\n    onDelete?: (id: string) => void;\n    onUpdate?: (id: string, updates: Partial<CardData>) => void;\n    isOverlay?: boolean;\n}) => {\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n        isDragging,\n    } = useSortable({ id: card.id, data: { act: card.act } });\n\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.4 : 1,\n    };\n\n    const toggleTag = (tag: TagType) => {\n        if (!onUpdate) return;\n        const currentTags = card.tags || [];\n        const newTags = currentTags.includes(tag)\n            ? currentTags.filter(t => t !== tag)\n            : [...currentTags, tag];\n        onUpdate(card.id, { tags: newTags });\n    };\n\n    return (\n        <div\n            ref={setNodeRef}\n            style={style}\n            className={`bg-white rounded-lg border border-zinc-200 p-3 shadow-sm group hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-800 dark:hover:border-zinc-700 ${isOverlay ? 'shadow-xl cursor-grabbing' : ''}`}\n        >\n            <div className=\"flex items-start gap-2\">\n                <div {...attributes} {...listeners} className=\"mt-1 text-zinc-300 hover:text-zinc-600 cursor-grab active:cursor-grabbing dark:text-zinc-700 dark:hover:text-zinc-400\">\n                    <GripVertical size={16} />\n                </div>\n                <div className=\"flex-1 space-y-2\">\n                    <textarea\n                        value={card.content}\n                        onChange={(e) => onUpdate && onUpdate(card.id, { content: e.target.value })}\n                        placeholder=\"イベント等の内容\"\n                        rows={2}\n                        className=\"w-full bg-transparent text-sm resize-none focus:outline-none placeholder:text-zinc-400 text-zinc-900 dark:text-zinc-50\"\n                        onMouseDown={(e) => e.stopPropagation()} // Prevent drag start from textarea\n                    />\n                    <div className=\"flex flex-wrap gap-1\">\n                        {(Object.keys(TAG_LABELS) as TagType[]).map((tag) => (\n                            <button\n                                key={tag}\n                                onClick={() => toggleTag(tag)}\n                                onMouseDown={(e) => e.stopPropagation()}\n                                className={`px-1.5 py-0.5 text-[11px] rounded border transition-colors ${card.tags?.includes(tag)\n                                    ? `${TAG_LABELS[tag].bg} ${TAG_LABELS[tag].color} border-transparent font-bold`\n                                    : 'bg-transparent text-zinc-400 border-zinc-200 dark:border-zinc-800 dark:text-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-800'\n                                    }`}\n                            >\n                                {TAG_LABELS[tag].label}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n                {onDelete && (\n                    <button\n                        onClick={() => onDelete(card.id)}\n                        className=\"text-zinc-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity\"\n                        onMouseDown={(e) => e.stopPropagation()}\n                    >\n                        <X size={14} />\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport const Step3Structure: React.FC<Step3StructureProps> = ({ project, onUpdate }) => {\n    const [items, setItems] = useState<CardData[]>(project.structureBoard || []);\n    const [beats, setBeats] = useState(project.structureBeats || { tp1: '', midpoint: '', tp2: '' });\n    const [activeId, setActiveId] = useState<string | null>(null);\n\n    useEffect(() => {\n        setItems(project.structureBoard || []);\n        if (project.structureBeats) {\n            setBeats(project.structureBeats);\n        }\n    }, [project.structureBoard, project.structureBeats]);\n\n    const handleBeatChange = (field: keyof typeof beats, value: string) => {\n        const newBeats = { ...beats, [field]: value };\n        setBeats(newBeats);\n        onUpdate({ structureBeats: newBeats });\n    };\n\n    const sensors = useSensors(\n        useSensor(PointerSensor, { activationConstraint: { distance: 8, delay: 100 } }),\n        useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\n    );\n\n    const handleDragStart = (event: DragStartEvent) => {\n        setActiveId(event.active.id as string);\n    };\n\n    const handleDragEnd = (event: DragEndEvent) => {\n        const { active, over } = event;\n        setActiveId(null);\n\n        if (!over) return;\n\n        const activeId = active.id as string;\n        const overId = over.id as string;\n\n        // If dropped over a container (column), move to that column\n        const overContainerAct = (over.data.current?.sortable?.containerId || over.id) as string;\n\n        let newItems = [...items];\n        const activeIndex = newItems.findIndex(i => i.id === activeId);\n\n        // If sorting within same act or moving between acts via sortable items\n        if (activeId !== overId) {\n            const overIndex = newItems.findIndex(i => i.id === overId);\n            if (overIndex !== -1) {\n                // Moved over another item\n                newItems = arrayMove(newItems, activeIndex, overIndex);\n                // Update the act to match the target\n                newItems[activeIndex].act = newItems[overIndex].act;\n            }\n        }\n\n        // Ensure act property is updated if dropped directly on column or empty space area handled by column logic\n        // But SortableContext usually handles ordering. We need to check if the act changed.\n\n        // Simple strategy: Update state, then sync.\n        // Wait, dnd-kit logic for multiple containers needs to handle `act` property changes.\n        // We will do a simplified version: Just simple reorder if local.\n        // If complex cross-column logic is needed, we often use `onDragOver` to update state optimistically.\n        // For MVP, assume we rely on simple `arrayMove`.\n\n        // Actually, dnd-kit multi-container guide suggests updating state in onDragOver.\n        // Let's implement a simpler version first: The user drags, we find where it landed.\n\n        // However, for simplicity given the code block limit, I'll rely on SortableContext's id strategy.\n        // I will group items by Act.\n\n        onUpdate({ structureBoard: newItems });\n        setItems(newItems); // Optimistic update\n    };\n\n    // Custom onDragOver to handle moving between columns\n    const handleDragOver = (event: DragEndEvent) => {\n        const { active, over } = event;\n        if (!over) return;\n\n        const activeId = active.id as string;\n        const overId = over.id as string;\n\n        // Find the containers\n        const activeItem = items.find(i => i.id === activeId);\n        const overItem = items.find(i => i.id === overId);\n\n        if (!activeItem) return;\n\n        // If over a column (we will make columns droppable)\n        if (['1', '2', '3'].includes(overId)) {\n            if (activeItem.act !== overId) {\n                setItems(prev => {\n                    const newItems = [...prev];\n                    const index = newItems.findIndex(i => i.id === activeId);\n                    newItems[index].act = overId as any;\n                    return newItems;\n                });\n            }\n            return;\n        }\n\n        // If over another item\n        if (overItem && activeItem.act !== overItem.act) {\n            setItems(prev => {\n                const newItems = [...prev];\n                const index = newItems.findIndex(i => i.id === activeId);\n                newItems[index].act = overItem.act;\n                // Move visually to correct index handled by subsequent dragEnd or arrayMove\n                return arrayMove(newItems, index, newItems.indexOf(overItem));\n            });\n        }\n    };\n\n    const addItem = (act: '1' | '2' | '3') => {\n        const newItem: CardData = {\n            id: crypto.randomUUID(),\n            content: '',\n            act,\n            tags: []\n        };\n        const newItems = [...items, newItem];\n        setItems(newItems);\n        onUpdate({ structureBoard: newItems });\n    };\n\n    const updateItem = (id: string, updates: Partial<CardData>) => {\n        const newItems = items.map(item => item.id === id ? { ...item, ...updates } : item);\n        setItems(newItems);\n        onUpdate({ structureBoard: newItems });\n    };\n\n    const deleteItem = (id: string) => {\n        const newItems = items.filter(item => item.id !== id);\n        setItems(newItems);\n        onUpdate({ structureBoard: newItems });\n    };\n\n    return (\n        <DndContext\n            sensors={sensors}\n            collisionDetection={closestCenter}\n            onDragStart={handleDragStart}\n            onDragOver={handleDragOver}\n            onDragEnd={handleDragEnd}\n        >\n            <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                <div className=\"flex items-center justify-between\">\n                    <h2 className=\"text-xl font-bold flex items-center gap-2 text-zinc-900 dark:text-zinc-50\">\n                        <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-900 text-zinc-50 text-sm dark:bg-zinc-100 dark:text-zinc-900\">3</span>\n                        構造設計 (三幕構成)\n                    </h2>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 md:h-[calc(100vh-200px)] min-h-[500px]\">\n                    {['1', '2', '3'].map((act) => (\n                        <div key={act} className=\"flex flex-col h-full bg-zinc-50 rounded-xl border border-zinc-200 dark:bg-zinc-900/50 dark:border-zinc-800\">\n                            {/* Header */}\n                            <div className=\"p-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-100/50 dark:bg-zinc-900 rounded-t-xl\">\n                                <div className=\"flex items-center justify-between mb-1\">\n                                    <h3 className=\"font-bold text-zinc-900 dark:text-zinc-50\">\n                                        {act === '1' ? '第一幕: 状況設定・問題提起' : act === '2' ? '第二幕: 対立・葛藤' : '第三幕: 解決'}\n                                    </h3>\n                                    <span className=\"text-sm font-black font-mono text-zinc-400 bg-zinc-200/50 px-2 py-0.5 rounded dark:bg-zinc-800\">\n                                        {act === '1' ? 'SETUP' : act === '2' ? 'CONFRONTATION' : 'RESOLUTION'}\n                                    </span>\n                                </div>\n                                <div className=\"text-sm leading-relaxed text-zinc-600 font-medium\">\n                                    {act === '1' && (\n                                        <>\n                                            <p className=\"mb-0.5\">物語の舞台は？</p>\n                                            <p>主人公が解決しなければいけない問題は？</p>\n                                        </>\n                                    )}\n                                    {act === '2' && (\n                                        <>\n                                            <p className=\"mb-0.5\">主人公が挑戦・失敗・悩む姿は？</p>\n                                            <p>どんな敵や障害が現れる？</p>\n                                        </>\n                                    )}\n                                    {act === '3' && (\n                                        <>\n                                            <p className=\"mb-0.5\">第一幕で提示した問題の答えは？</p>\n                                            <p>主人公はどう変わった？</p>\n                                        </>\n                                    )}\n                                </div>\n                            </div>\n\n                            {/* Droppable Area */}\n                            <SortableContext\n                                id={act} // This container ID is used for dragOver detection\n                                items={items.filter(i => i.act === act).map(i => i.id)}\n                                strategy={verticalListSortingStrategy}\n                            >\n                                <div className=\"flex-1 p-4 overflow-y-auto space-y-3 min-h-[100px]\">\n                                    {items.filter(i => i.act === act).map((item) => (\n                                        <SortableCard\n                                            key={item.id}\n                                            card={item}\n                                            onDelete={deleteItem}\n                                            onUpdate={updateItem}\n                                        />\n                                    ))}\n                                    <Button\n                                        variant=\"outline\"\n                                        size=\"sm\"\n                                        className=\"w-full border-dashed text-zinc-400 hover:text-zinc-600 dark:border-zinc-800 dark:hover:text-zinc-300\"\n                                        onClick={() => addItem(act as any)}\n                                    >\n                                        <Plus size={14} className=\"mr-1\" /> カード追加\n                                    </Button>\n                                </div>\n                            </SortableContext>\n\n                            {/* Plot Point Fields */}\n                            <div className=\"p-4 pt-0 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/30 rounded-b-xl space-y-3\">\n                                {act === '1' && (\n                                    <div className=\"mt-3\">\n                                        <label className=\"text-sm font-black text-rose-500 uppercase tracking-widest mb-1.5 block\">ターニングポイント 1 (TP1)</label>\n                                        <textarea\n                                            value={beats.tp1}\n                                            onChange={(e) => handleBeatChange('tp1', e.target.value)}\n                                            placeholder=\"物語が大きく動き出す瞬間...\"\n                                            rows={2}\n                                            className=\"w-full text-sm p-2.5 rounded-lg border border-zinc-200 bg-white shadow-sm focus:outline-none focus:ring-1 focus:ring-rose-500 dark:bg-zinc-950 dark:border-zinc-800 dark:text-white\"\n                                        />\n                                    </div>\n                                )}\n                                {act === '2' && (\n                                    <div className=\"mt-3 space-y-4\">\n                                        <div>\n                                            <label className=\"text-sm font-black text-amber-500 uppercase tracking-widest mb-1.5 block\">中間点 (MP)</label>\n                                            <textarea\n                                                value={beats.midpoint}\n                                                onChange={(e) => handleBeatChange('midpoint', e.target.value)}\n                                                placeholder=\"物語の折り返し地点...\"\n                                                rows={2}\n                                                className=\"w-full text-sm p-2.5 rounded-lg border border-zinc-200 bg-white shadow-sm focus:outline-none focus:ring-1 focus:ring-amber-500 dark:bg-zinc-950 dark:border-zinc-800 dark:text-white\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <label className=\"text-sm font-black text-rose-600 uppercase tracking-widest mb-1.5 block\">ターニングポイント 2 (TP2)</label>\n                                            <textarea\n                                                value={beats.tp2}\n                                                onChange={(e) => handleBeatChange('tp2', e.target.value)}\n                                                placeholder=\"クライマックスへの突入...\"\n                                                rows={2}\n                                                className=\"w-full text-sm p-2.5 rounded-lg border border-zinc-200 bg-white shadow-sm focus:outline-none focus:ring-1 focus:ring-rose-600 dark:bg-zinc-950 dark:border-zinc-800 dark:text-white\"\n                                            />\n                                        </div>\n                                    </div>\n                                )}\n                                {act === '3' && (\n                                    <div className=\"py-2 text-center\">\n                                        <div className=\"text-sm font-black text-zinc-400 uppercase tracking-widest\">Fin.</div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <DragOverlay dropAnimation={{ sideEffects: defaultDropAnimationSideEffects({ styles: { active: { opacity: '0.5' } } }) }}>\n                    {activeId ? (\n                        <SortableCard\n                            card={items.find(i => i.id === activeId)!}\n                            isOverlay\n                        />\n                    ) : null}\n                </DragOverlay>\n            </div>\n        </DndContext>\n    );\n};\n","import React, { useState } from 'react';\nimport { Project, CharacterItem } from '@/types/project';\nimport { Button } from '@/components/ui/Button';\nimport { useCharacters } from '@/hooks/useCharacters';\nimport { Plus, X, User, Trash2, Search, Check, Link as LinkIcon, ExternalLink } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface StepCharacterListProps {\n    project: Project;\n    onUpdate: (updates: Partial<Project>) => void;\n}\n\nexport const StepCharacterList: React.FC<StepCharacterListProps> = ({ project, onUpdate }) => {\n    const { characters: globalCharacters, addCharacter } = useCharacters();\n    const [isSelecting, setIsSelecting] = useState(false);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    const linkedIds = project.linkedCharacterIds || [];\n    const linkedCharacters = globalCharacters.filter(c => linkedIds.includes(c.id));\n\n    // Support legacy local characters if any\n    const localCharacters = project.characters || [];\n\n    const handleToggleLink = (id: string) => {\n        const newIds = linkedIds.includes(id)\n            ? linkedIds.filter(i => i !== id)\n            : [...linkedIds, id];\n        onUpdate({ linkedCharacterIds: newIds });\n    };\n\n    const handleQuickAdd = () => {\n        const newChar = addCharacter({\n            name: searchQuery || '新しいキャラクター',\n            description: '',\n        });\n        handleToggleLink(newChar.id);\n        setSearchQuery('');\n    };\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\n                <div>\n                    <h2 className=\"text-xl font-bold flex items-center gap-2 text-white\">\n                        <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-white text-zinc-900 text-sm\">4</span>\n                        キャラクター選択\n                    </h2>\n                    <p className=\"text-sm text-zinc-500 mt-1\">\n                        この作品に登場させるキャラクターを名簿から選択します。\n                    </p>\n                </div>\n                <div className=\"flex flex-col sm:flex-row gap-2 w-full md:w-auto\">\n                    <Link href=\"/characters\" className=\"w-full md:w-auto\">\n                        <Button variant=\"ghost\" className=\"w-full md:w-auto text-zinc-400 hover:text-white font-bold border border-zinc-800\">\n                            <ExternalLink className=\"w-4 h-4 mr-2\" /> 名簿の編集\n                        </Button>\n                    </Link>\n                    <Button onClick={() => setIsSelecting(!isSelecting)} className=\"w-full md:w-auto font-bold bg-white text-zinc-900 hover:bg-zinc-200\">\n                        <Plus className=\"w-4 h-4 mr-2\" /> キャラクターを参加させる\n                    </Button>\n                </div>\n            </div>\n\n            {/* Selection UI */}\n            {isSelecting && (\n                <div className=\"bg-[#0a0a0a] border border-zinc-800 rounded-2xl p-6 space-y-4 animate-in zoom-in-95 duration-200 shadow-2xl\">\n                    <div className=\"flex items-center justify-between\">\n                        <h3 className=\"font-bold text-sm text-zinc-400 uppercase tracking-widest\">グローバル名簿から選択</h3>\n                        <button onClick={() => setIsSelecting(false)} className=\"text-zinc-600 hover:text-white transition-colors\">\n                            <X size={18} />\n                        </button>\n                    </div>\n\n                    <div className=\"relative\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-600\" />\n                        <input\n                            type=\"text\"\n                            placeholder=\"名前で検索、または新規作成して追加...\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className=\"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl pl-10 pr-4 h-12 text-base focus:outline-none focus:ring-1 focus:ring-zinc-700\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-hide\">\n                        {globalCharacters\n                            .filter(gc => gc.name.toLowerCase().includes(searchQuery.toLowerCase()))\n                            .map(char => (\n                                <button\n                                    key={char.id}\n                                    onClick={() => handleToggleLink(char.id)}\n                                    className={`flex items-center gap-3 p-3 rounded-xl border transition-all text-left group ${linkedIds.includes(char.id)\n                                        ? 'bg-white border-white text-black'\n                                        : 'bg-zinc-900/50 border-zinc-800 text-zinc-500 hover:border-zinc-600 hover:text-zinc-300'\n                                        }`}\n                                >\n                                    <div className=\"w-10 h-10 rounded-full bg-black/20 border border-zinc-700/30 overflow-hidden shrink-0\">\n                                        {char.icon ? (\n                                            <img src={char.icon} alt={char.name} className=\"w-full h-full object-cover\" />\n                                        ) : (\n                                            <div className=\"w-full h-full flex items-center justify-center\">\n                                                <User size={16} />\n                                            </div>\n                                        )}\n                                    </div>\n                                    <div className=\"flex-1 min-w-0\">\n                                        <div className=\"font-bold text-sm truncate\">{char.name}</div>\n                                        <div className=\"text-sm opacity-60 truncate\">\n                                            {linkedIds.includes(char.id) ? '参戦中' : '待機中'}\n                                        </div>\n                                    </div>\n                                    <div className={`p-1 rounded-full ${linkedIds.includes(char.id) ? 'bg-black text-white' : 'bg-transparent text-transparent group-hover:bg-zinc-800'}`}>\n                                        <Check size={12} />\n                                    </div>\n                                </button>\n                            ))}\n\n                        {searchQuery && !globalCharacters.find(c => c.name.toLowerCase() === searchQuery.toLowerCase()) && (\n                            <button\n                                onClick={handleQuickAdd}\n                                className=\"flex items-center gap-3 p-3 rounded-xl border border-dashed border-zinc-800 text-zinc-500 hover:border-zinc-600 hover:text-white transition-all text-left\"\n                            >\n                                <div className=\"w-10 h-10 rounded-full bg-zinc-900 border border-zinc-800 flex items-center justify-center shrink-0 text-zinc-700\">\n                                    <Plus size={16} />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                    <div className=\"font-bold text-sm truncate text-zinc-300\">「{searchQuery}」を登録</div>\n                                    <div className=\"text-sm\">名簿へ追加してこの作品にリンク</div>\n                                </div>\n                            </button>\n                        )}\n                    </div>\n                </div>\n            )}\n\n            {/* Linked Characters Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {linkedCharacters.map((char) => (\n                    <div key={char.id} className=\"bg-[#192a31] rounded-2xl border border-zinc-800 p-6 flex gap-6 relative group transform transition-all hover:scale-[1.01] hover:border-zinc-600 shadow-xl\">\n                        <div className=\"relative shrink-0\">\n                            <div className=\"w-20 h-20 rounded-full bg-black border-2 border-zinc-800 overflow-hidden\">\n                                {char.icon ? (\n                                    <img src={char.icon} alt={char.name} className=\"w-full h-full object-cover\" />\n                                ) : (\n                                    <div className=\"w-full h-full flex items-center justify-center text-zinc-800\">\n                                        <User size={32} />\n                                    </div>\n                                )}\n                            </div>\n                            <div className=\"absolute -bottom-1 -right-1 w-7 h-7 bg-white text-black rounded-full flex items-center justify-center border-4 border-[#192a31]\">\n                                <LinkIcon size={12} />\n                            </div>\n                        </div>\n\n                        <div className=\"flex-1 space-y-1\">\n                            <div className=\"text-xl font-bold text-white\">{char.name}</div>\n                            <div className=\"text-sm text-zinc-500 leading-relaxed line-clamp-2\">{char.description || '（説明なし）'}</div>\n                            <span key={char.id + '-link'} className=\"text-sm font-black uppercase tracking-widest px-2 py-0.5 rounded bg-zinc-900 border border-zinc-800 text-zinc-400\">リンク中</span>\n                        </div>\n\n                        <button\n                            onClick={() => handleToggleLink(char.id)}\n                            className=\"absolute top-4 right-4 p-2 text-zinc-600 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all font-bold text-sm flex items-center gap-1\"\n                        >\n                            <Trash2 size={14} /> 除外\n                        </button>\n                    </div>\n                ))}\n\n                {/* Legacy Characters support */}\n                {localCharacters.map((char) => (\n                    <div key={char.id} className=\"bg-[#192a31]/50 border-2 border-dashed border-zinc-800 rounded-2xl p-6 flex gap-6 relative group opacity-60 grayscale hover:grayscale-0 hover:opacity-100 transition-all\">\n                        <div className=\"w-20 h-20 rounded-full bg-zinc-900 border border-zinc-800 overflow-hidden flex items-center justify-center text-zinc-700\">\n                            {char.icon ? <img src={char.icon} alt={char.name} className=\"w-full h-full object-cover\" /> : <User size={32} />}\n                        </div>\n                        <div className=\"flex-1\">\n                            <div className=\"font-bold text-white\">{char.name}</div>\n                            <div className=\"text-sm text-zinc-600\">プロジェクト固有（レガシー）</div>\n                        </div>\n                    </div>\n                ))}\n\n                {linkedCharacters.length === 0 && localCharacters.length === 0 && (\n                    <div className=\"md:col-span-2 py-20 flex flex-col items-center justify-center border-2 border-dashed border-[#192a31] bg-[#192a31]/40 rounded-3xl\">\n                        <User className=\"w-12 h-12 text-zinc-800 mb-4\" />\n                        <p className=\"text-zinc-700 font-bold uppercase tracking-widest text-sm\">登場キャラクターが未選択です</p>\n                        <Button onClick={() => setIsSelecting(true)} variant=\"ghost\" className=\"mt-4 text-zinc-500 hover:text-white\">\n                            名簿から選択する\n                        </Button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Project } from '@/types/project';\n\ninterface Step2OutlineProps {\n    project: Project;\n    onUpdate: (updates: Partial<Project>) => void;\n}\n\nexport const Step2Outline: React.FC<Step2OutlineProps> = ({ project, onUpdate }) => {\n    const [data, setData] = useState({\n        start: '',\n        midpoint: '',\n        decision: '',\n        end: ''\n    });\n\n    useEffect(() => {\n        if (project.outline) {\n            setData(project.outline);\n        }\n    }, [project.outline]);\n\n    const handleChange = (field: keyof typeof data, value: string) => {\n        setData(prev => ({ ...prev, [field]: value }));\n    };\n\n    const handleBlur = () => {\n        onUpdate({ outline: data });\n    };\n\n    const items = [\n        { key: 'start', label: '1. 開始（Start）', desc: '主人公の初期状態。ゴールの正反対の状態を描く。', placeholder: '例：魔法が使えず、誰からも期待されていない落ちこぼれ。' },\n        { key: 'midpoint', label: '2. 中間点（Midpoint）', desc: '物語の転換点。主人公が変化せざるを得ない出来事。', placeholder: '例：師匠が敵に捕まり、自分一人で戦うしかない状況になる。' },\n        { key: 'decision', label: '3. 決断（Decision）', desc: '変化の証明。過去の自分と決別し、リスクを取る決断。', placeholder: '例：逃げることをやめ、禁忌とされていた機械技術を使うことを決意する。' },\n        { key: 'end', label: '4. 終了（End）', desc: 'ゴール。主人公が得た新しい日常や成長の結果。', placeholder: '例：魔法と科学を融合させた英雄として認められ、新しい時代を作る。' },\n    ] as const;\n\n    return (\n        <div className=\"space-y-8 max-w-3xl animate-in fade-in slide-in-from-bottom-4 duration-500\">\n            <div className=\"bg-white p-6 rounded-xl border border-zinc-200 shadow-sm dark:bg-zinc-950 dark:border-zinc-800\">\n                <h2 className=\"text-xl font-bold mb-6 flex items-center gap-2 text-zinc-900 dark:text-zinc-50\">\n                    <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-900 text-zinc-50 text-sm dark:bg-zinc-100 dark:text-zinc-900\">2</span>\n                    あらすじ作成\n                </h2>\n                <p className=\"text-sm text-zinc-500 mb-8 dark:text-zinc-400\">\n                    物語の骨組みとなる4つのポイントを決めましょう。「開始」と「終了」が変化していることが重要です。\n                </p>\n\n                <div className=\"grid grid-cols-1 gap-8 relative\">\n                    {/* Connector Line */}\n                    <div className=\"hidden md:block absolute left-[19px] top-6 bottom-6 w-0.5 bg-zinc-100 dark:bg-zinc-800 -z-10\"></div>\n\n                    {items.map((item) => (\n                        <div key={item.key} className=\"relative pl-0 md:pl-12\">\n                            {/* Number Badge */}\n                            <div className=\"hidden md:flex absolute left-0 top-0 w-10 h-10 rounded-full bg-zinc-100 border-4 border-white items-center justify-center text-zinc-500 font-bold dark:bg-zinc-800 dark:border-zinc-950 dark:text-zinc-400\">\n                                {item.label.split('.')[0]}\n                            </div>\n\n                            <div className=\"space-y-2 group\">\n                                <label className=\"text-base font-bold text-zinc-900 dark:text-zinc-50 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1\">\n                                    {item.label}\n                                    <span className=\"text-sm font-normal text-zinc-500 bg-zinc-50 px-2 py-1 rounded dark:bg-zinc-900\">{item.desc}</span>\n                                </label>\n                                <textarea\n                                    value={data[item.key as keyof typeof data]}\n                                    onChange={(e) => handleChange(item.key as keyof typeof data, e.target.value)}\n                                    onBlur={handleBlur}\n                                    rows={4}\n                                    placeholder={item.placeholder}\n                                    className=\"w-full p-4 rounded-xl border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 shadow-sm dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900 resize-none hover:border-zinc-300 dark:hover:border-zinc-700 text-base\"\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }]];\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('chevron-right', __iconNode);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n];\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('external-link', __iconNode);\n\nexport default ExternalLink;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M7 3v18', key: 'bbkbws' }],\n  ['path', { d: 'M3 7.5h4', key: 'zfgn84' }],\n  ['path', { d: 'M3 12h18', key: '1i2n21' }],\n  ['path', { d: 'M3 16.5h4', key: '1230mu' }],\n  ['path', { d: 'M17 3v18', key: 'in4fa5' }],\n  ['path', { d: 'M17 7.5h4', key: 'myr1c1' }],\n  ['path', { d: 'M17 16.5h4', key: 'go4c1d' }],\n];\n\n/**\n * @component @name Film\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik03IDN2MTgiIC8+CiAgPHBhdGggZD0iTTMgNy41aDQiIC8+CiAgPHBhdGggZD0iTTMgMTJoMTgiIC8+CiAgPHBhdGggZD0iTTMgMTYuNWg0IiAvPgogIDxwYXRoIGQ9Ik0xNyAzdjE4IiAvPgogIDxwYXRoIGQ9Ik0xNyA3LjVoNCIgLz4KICA8cGF0aCBkPSJNMTcgMTYuNWg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/film\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Film = createLucideIcon('film', __iconNode);\n\nexport default Film;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm15 14 5-5-5-5', key: '12vg1m' }],\n  ['path', { d: 'M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13', key: '6uklza' }],\n];\n\n/**\n * @component @name Redo2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTQgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjAgOUg5LjVBNS41IDUuNSAwIDAgMCA0IDE0LjVBNS41IDUuNSAwIDAgMCA5LjUgMjBIMTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/redo-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Redo2 = createLucideIcon('redo-2', __iconNode);\n\nexport default Redo2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n];\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('link', __iconNode);\n\nexport default Link;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 5h16', key: '1tepv9' }],\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 19h16', key: '1djgab' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCA1aDE2IiAvPgogIDxwYXRoIGQ9Ik00IDEyaDE2IiAvPgogIDxwYXRoIGQ9Ik00IDE5aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M9 14 4 9l5-5', key: '102s5s' }],\n  ['path', { d: 'M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11', key: 'f3b9sd' }],\n];\n\n/**\n * @component @name Undo2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxNCA0IDlsNS01IiAvPgogIDxwYXRoIGQ9Ik00IDloMTAuNWE1LjUgNS41IDAgMCAxIDUuNSA1LjVhNS41IDUuNSAwIDAgMS01LjUgNS41SDExIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/undo-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Undo2 = createLucideIcon('undo-2', __iconNode);\n\nexport default Undo2;\n","import React, { useState, useEffect } from 'react';\nimport { Project, Episode } from '@/types/project';\n\ntype ExtendedProject = Project & {\n    concept?: Episode['concept'];\n};\n\ninterface Step1ConceptProps {\n    project: ExtendedProject;\n    onUpdate: (updates: Partial<ExtendedProject>) => void;\n}\n\nexport const Step1Concept: React.FC<Step1ConceptProps> = ({ project, onUpdate }) => {\n    // Local state for immediate input feedback\n    const [data, setData] = useState({\n        theme: project.concept?.theme || '',\n        title: project.title || '',\n        emotions: project.concept?.emotions || '',\n        keywords: project.concept?.keywords || '',\n        note: project.concept?.note || '',\n    });\n\n    // Update local state if project data changes externally (e.g. reload)\n    useEffect(() => {\n        setData({\n            theme: project.concept?.theme || '',\n            title: project.title || '',\n            emotions: project.concept?.emotions || '',\n            keywords: project.concept?.keywords || '',\n            note: project.concept?.note || '',\n        });\n    }, [project.concept]);\n\n    // Handle change and auto-save (propagating to parent onBlur or with debounce logic could be added)\n    // For simplicity, we update parent immediately onBlur for now to persist.\n\n    const handleChange = (field: keyof typeof data, value: string) => {\n        const newData = { ...data, [field]: value };\n        setData(newData);\n    };\n\n    const handleBlur = () => {\n        onUpdate({\n            title: data.title,\n            concept: {\n                theme: data.theme,\n                emotions: data.emotions,\n                keywords: data.keywords,\n                note: data.note\n            }\n        });\n    };\n\n    return (\n        <div className=\"space-y-8 max-w-3xl animate-in fade-in slide-in-from-bottom-4 duration-500\">\n            <div className=\"bg-white p-6 rounded-xl border border-zinc-200 shadow-sm dark:bg-zinc-950 dark:border-zinc-800\">\n                <h2 className=\"text-xl font-bold mb-6 flex items-center gap-2 text-zinc-900 dark:text-zinc-50\">\n                    <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-900 text-zinc-50 text-sm dark:bg-zinc-100 dark:text-zinc-900\">1</span>\n                    企画コンセプト\n                </h2>\n\n                <div className=\"space-y-6\">\n                    {/* Episode Title */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">\n                            エピソードタイトル\n                        </label>\n                        <p className=\"text-sm text-zinc-500\">エピソードの題名を入力してください。</p>\n                        <input\n                            type=\"text\"\n                            value={data.title}\n                            onChange={(e) => handleChange('title', e.target.value)}\n                            onBlur={handleBlur}\n                            placeholder=\"エピソードタイトルを入力...\"\n                            className=\"w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900 font-bold text-base\"\n                        />\n                    </div>\n\n                    {/* Theme */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">\n                            テーマ（一言で言うと？）\n                        </label>\n                        <p className=\"text-sm text-zinc-500\">例：「友情と犠牲」「AIと人間の共存」など、作品の核となる概念。</p>\n                        <input\n                            type=\"text\"\n                            value={data.theme}\n                            onChange={(e) => handleChange('theme', e.target.value)}\n                            onBlur={handleBlur}\n                            placeholder=\"テーマを入力...\"\n                            className=\"w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900\"\n                        />\n                    </div>\n\n                    {/* Emotions */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">\n                            読後感（読者にどう感じてほしい？）\n                        </label>\n                        <p className=\"text-sm text-zinc-500\">例：「スカッとする」「ほっこりする」「考えさせられる」</p>\n                        <input\n                            type=\"text\"\n                            value={data.emotions}\n                            onChange={(e) => handleChange('emotions', e.target.value)}\n                            onBlur={handleBlur}\n                            placeholder=\"読後感を入力...\"\n                            className=\"w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900\"\n                        />\n                    </div>\n\n                    {/* Keywords */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">\n                            キーワード（要素・モチーフ）\n                        </label>\n                        <p className=\"text-sm text-zinc-500\">例：「魔法学園」「タイムリープ」「猫」「ピアノ」</p>\n                        <textarea\n                            value={data.keywords}\n                            onChange={(e) => handleChange('keywords', e.target.value)}\n                            onBlur={handleBlur}\n                            rows={2}\n                            placeholder=\"キーワードを列挙...\"\n                            className=\"w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900 resize-none text-base\"\n                        />\n                    </div>\n\n                    {/* Note */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-semibold text-zinc-700 dark:text-zinc-300\">\n                            イメージメモ\n                        </label>\n                        <p className=\"text-sm text-zinc-500\">思いついたアイデアやシーン、セリフなどを自由に書き留めてください。</p>\n                        <textarea\n                            value={data.note}\n                            onChange={(e) => handleChange('note', e.target.value)}\n                            onBlur={handleBlur}\n                            rows={6}\n                            placeholder=\"自由にメモ...\"\n                            className=\"w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:bg-white focus:ring-2 focus:ring-zinc-900 focus:outline-none transition-all text-zinc-900 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-50 dark:focus:ring-zinc-100 dark:focus:bg-zinc-900 resize-none text-base\"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z',\n      key: '1dfntj',\n    },\n  ],\n  ['path', { d: 'M15 3v5a1 1 0 0 0 1 1h5', key: '6s6qgf' }],\n];\n\n/**\n * @component @name StickyNote\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgOWEyLjQgMi40IDAgMCAwLS43MDYtMS43MDZsLTMuNTg4LTMuNTg4QTIuNCAyLjQgMCAwIDAgMTUgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTUgM3Y1YTEgMSAwIDAgMCAxIDFoNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sticky-note\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst StickyNote = createLucideIcon('sticky-note', __iconNode);\n\nexport default StickyNote;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z',\n      key: '18887p',\n    },\n  ],\n];\n\n/**\n * @component @name MessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTdhMiAyIDAgMCAxLTIgMkg2LjgyOGEyIDIgMCAwIDAtMS40MTQuNTg2bC0yLjIwMiAyLjIwMkEuNzEuNzEgMCAwIDEgMiAyMS4yODZWNWEyIDIgMCAwIDEgMi0yaDE2YTIgMiAwIDAgMSAyIDJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquare = createLucideIcon('message-square', __iconNode);\n\nexport default MessageSquare;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21',\n      key: 'g5wo59',\n    },\n  ],\n  ['path', { d: 'm5.082 11.09 8.828 8.828', key: '1wx5vj' }],\n];\n\n/**\n * @component @name Eraser\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMjFIOGEyIDIgMCAwIDEtMS40Mi0uNTg3bC0zLjk5NC0zLjk5OWEyIDIgMCAwIDEgMC0yLjgyOGwxMC0xMGEyIDIgMCAwIDEgMi44MjkgMGw1Ljk5OSA2YTIgMiAwIDAgMSAwIDIuODI4TDEyLjgzNCAyMSIgLz4KICA8cGF0aCBkPSJtNS4wODIgMTEuMDkgOC44MjggOC44MjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/eraser\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eraser = createLucideIcon('eraser', __iconNode);\n\nexport default Eraser;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2',\n      key: '143wyd',\n    },\n  ],\n  ['path', { d: 'M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6', key: '1itne7' }],\n  ['rect', { x: '6', y: '14', width: '12', height: '8', rx: '1', key: '1ue0tg' }],\n];\n\n/**\n * @component @name Printer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAxOEg0YTIgMiAwIDAgMS0yLTJ2LTVhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjVhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cGF0aCBkPSJNNiA5VjNhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxdjYiIC8+CiAgPHJlY3QgeD0iNiIgeT0iMTQiIHdpZHRoPSIxMiIgaGVpZ2h0PSI4IiByeD0iMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/printer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Printer = createLucideIcon('printer', __iconNode);\n\nexport default Printer;\n"],"names":[],"mappings":"6DACA,IAAI,EAAA,EAAA,CAAA,CAAA,OAIA,EAAoD,AAFZ,GAAkB,UAAb,EAE5B,KAFmC,GAAkB,GAE1C,GAAE,OAFqD,GAAQ,CAAJ,AAAM,SAAa,EAAF,AAqBxG,EAA4B,IAAnB,OAAO,SAA2B,QAAQ,GAAG,GAAI,EAC1D,EAAW,SAAS,CAAC,EACrB,MAA6C,oBAAtC,OAAO,EAFqE,OAE5D,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC1C,EACI,EAA2B,WAAd,AACb,SAAS,EADe,AACJ,CAAK,EACrB,IAAI,EAAgB,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAQ,EAAI,IAAI,CAAE,EAAiB,KAAK,IAAf,EAAmB,aAAe,EAAO,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,EAA+B,EAAS,EAChN,EAAY,EAAS,GAAO,2BAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,uBAAuB,CAAG,IAAM,EAAO,sBAC5C,EAAwC,WAA5B,OAAO,EAAgC,wCACnD,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,YAAY,MAAG,EACpB,IAAI,CAAC,KAAK,CAAG,EAAE,CACf,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAEnB,IAAI,CAAC,MAAM,CAAyC,EAAtC,EAClB,CACA,MAAI,EAAS,EAAW,SAAS,CA2LjC,OA1LA,EAAO,MAHkB,aAGC,CAAG,SAAS,AAAoB,CAAI,EAC1D,EAA4B,WAAhB,OAAO,EAAoB,2CACvC,EAAiC,IAArB,IAAI,CAAC,WAAW,CAAQ,oEACpC,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,MAAM,EACf,EACA,EAAO,kBAAkB,CAAG,SAAS,EACjC,OAAO,IAAI,CAAC,iBAAiB,AACjC,EACA,EAAO,MAAM,CAAG,SAAS,EACrB,IAAI,EAAQ,IAAI,CAChB,EAAY,CAAC,IAAI,CAAC,SAAS,CAAE,0BAC7B,IAAI,CAAC,SAAS,EAAG,EAajB,IAAI,CAAC,YAAY,CAAG,CAChB,SAAU,EAAE,CACZ,WAAY,SAAS,CAAI,CAAE,CAAK,EAU5B,MATqB,UAAjB,AAA2B,OAApB,EACP,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,CACjC,QAAS,CACb,EAEA,EAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAC7B,QAAS,CACb,GAEG,CACX,EACA,WAAY,SAAS,CAAK,EACtB,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,IACzC,CACJ,CACJ,EACA,EAAO,cAAc,CAAG,SAAS,AAAe,CAAG,EAC/C,GAAI,EAAI,KAAK,CACT,CADW,MACJ,EAAI,KAAK,CAGpB,IAAI,IAAI,EAAI,EAAG,EAAI,SAAS,WAAW,CAAC,MAAM,CAAE,IAAI,AAChD,GAAI,SAAS,WAAW,CAAC,EAAE,CAAC,SAAS,GAAK,EACtC,GAD2C,IACpC,SAAS,WAAW,CAAC,EAAE,AAG1C,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,EAAE,CAChE,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAI,CAAE,CAAK,SAC/C,EAAY,EAAS,GAAO,qCAEH,UAAjB,AAA2B,OAApB,IACP,EAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAA,AAAM,EAE7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAM,GAC5B,IAAI,CAAC,WAAW,EAsB/B,EACA,EAAO,WAAW,CAAG,SAAS,AAAY,CAAK,CAAE,CAAI,EAC7C,IAAI,CAAC,iBAAiB,CACtB,GAD0B,CACtB,EAA0D,IAAI,CAAC,CAAvD,WAAmE,CAI/E,GAHI,AAAC,EAAK,IAAI,IAAI,CACd,EAAO,IAAI,CAAC,KAF4B,GADA,aAAa,EAGzC,AAAuB,EAEnC,CAAC,EAAM,QAAQ,CAAC,EAAM,CAEtB,CAFwB,MAEjB,EAEX,EAAM,UAAU,CAAC,GACjB,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CACR,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAG3D,EAAM,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAE,EACnD,CAMJ,OAAO,CACX,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAK,EAErC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAWrC,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAQf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAG,EAAE,AAEvC,EACA,EAAO,QAAQ,CAAG,SAAS,EAGnB,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,AAYzC,EACA,EAAO,YAAY,CAAG,SAAS,AAAa,CAAI,CAAE,CAAS,CAAE,CAAa,EAClE,GACA,EAAY,EAAS,GAAY,CADtB,wDAGf,IAAI,EAAM,SAAS,aAAa,CAAC,SAC7B,IAAI,CAAC,MAAM,EAAE,EAAI,YAAY,CAAC,QAAS,IAAI,CAAC,MAAM,EACtD,EAAI,IAAI,CAAG,WACX,EAAI,YAAY,CAAC,QAAU,EAAM,IAC7B,GACA,EAAI,MADO,KACI,CAAC,SAAS,cAAc,CAAC,IAE5C,IAAI,EAAO,SAAS,IAAI,EAAI,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAMpE,OALI,EACA,EAAK,WADU,CACE,CAAC,EAAK,GAEvB,EAAK,WAAW,CAAC,GAEd,CACX,EA1M+B,EA2MN,CACrB,CACI,IAAK,EA7M4B,EAAE,KA8MnC,IAAK,EA9MyC,OA8MhC,EACV,OAAO,IAAI,CAAC,WAAW,AAC3B,CACJ,EACH,CAjNe,AAVjB,SAA2B,AAAlB,CAAwB,CAAE,CAAK,EACvC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,CACzB,EAAW,UAAU,CAAG,EAAW,UAAU,GAAI,EACjD,EAAW,YAAY,EAAG,EACtB,UAAW,GAAY,GAAW,QAAQ,EAAG,CAAA,EACjD,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EAEsC,AA0MrB,EA1MiC,SAAS,CAAE,GAkNlD,CACX,IACA,SAAS,EAAY,CAAS,CAAE,CAAO,EACnC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,eAAiB,EAAU,IAEnD,CAWA,IAAI,EATJ,SAAS,AAAK,CAAG,CASA,CAPb,IADA,IAAI,EAAS,KAAM,EAAI,EAAI,MAAM,CAC3B,EAAE,CACJ,EAAkB,GAAT,EAAc,EAAI,UAAU,CAAC,EAAE,GAIiB,OAAO,IAAW,CACnF,EAMI,EAAQ,CAAC,EAKT,SAAS,EAAU,CAAM,CAAE,CAAK,EAChC,GAAI,CAAC,EACD,KADQ,CACD,OAAS,EAEpB,IAAI,EAAgB,OAAO,GACvB,EAAM,EAAS,EAInB,OAHI,AAAC,CAAK,CAAC,EAAI,EACX,AADa,EACR,CAAC,EAAI,CAAG,OAAS,EAAW,EAAS,IAAM,EAAA,EAE7C,CAAK,CAAC,EAAI,AACrB,CAKI,SAAS,EAAgB,CAAE,CAAE,CAAG,EAQhC,IAAI,EAAQ,EAFR,GAAe,AAEF,AA9BV,EAAK,CA4BF,MA5BS,CAAC,YAAa,WA4Bd,EAMnB,OAHI,AAAC,CAAK,CAAC,EAAM,EAAE,CACf,CAAK,CAAC,EAAM,CAAG,EAAI,OAAO,CAAC,AATA,gCAS0B,EAAA,EAElD,CAAK,CAAC,EAAM,AACvB,CAkBA,IAAI,EAAmC,WACnC,QADqB,CACZ,EAAmB,CAAK,EAC7B,IAAI,CAFwB,CAElB,AAAU,KAAK,MAAI,CAAC,EAAI,EAAO,EAAc,EAAI,UAAU,CAAE,EAA6B,KAAK,IAArB,EAAyB,KAAO,EAAa,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAAI,AAA/B,GAAuC,EACrO,IAAI,CAAC,MAAM,CAAG,GAAc,IAAI,EAAW,CACvC,KAAM,aACN,iBAAkB,CACtB,GACA,IAAI,CAAC,MAAM,CAAC,MAAM,GACd,GAA0C,WAA5B,AAAuC,OAAhC,IACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAChC,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAE3D,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,CACA,IAAI,EAAS,EAAmB,SAAS,CAoHzC,OAnHA,EAAO,GAAG,CAAG,SAAS,AAAI,CAAK,EAC3B,IAAI,EAAQ,IAAI,MACZ,IAAc,IAAI,CAAC,iBAAiB,EAAE,CACtC,IAAI,CAAC,iBAAiB,CAAG,MAAM,OAAO,CAAC,EAAM,QAAQ,EACrD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EACtD,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAS3D,IAAI,EAAM,IAAI,CAAC,aAAa,CAAC,GAAQ,EAAU,EAAI,OAAO,CAAE,EAAQ,EAAI,KAAK,CAE7E,GAAI,KAAW,IAAI,CAAC,gBAAgB,CAAE,CAClC,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAClC,MACJ,CACA,IAAI,EAAU,EAAM,GAAG,CAAC,SAAS,CAAI,EACjC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GAAE,AACD,MAAM,CAAC,SAAS,CAAK,EAClB,OAAiB,CAFQ,AAEP,IAAX,CACX,GACA,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAG,EACzB,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,CACrC,EACA,EAAO,MAAM,CAAG,SAAgB,AAAP,CAAY,EACjC,IAAI,EAAQ,IAAI,CACZ,EAAU,IAAI,CAAC,aAAa,CAAC,GAAO,OAAO,CAG/C,GAFA,AAqFR,SAAS,AAAU,CAAS,CAAE,CAAO,EACjC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,uBAAyB,EAAU,IAE3D,EAzFkB,KAAW,IAAI,CAAC,gBAAgB,CAAE,aAAe,EAAU,eACrE,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,EAAG,CACpC,IAAI,EAAgB,IAAI,CAAC,WAAW,EAAI,IAAI,CAAC,WAAW,CAAC,EAAQ,CAC7D,GACA,EAAc,UADC,AACS,CAAC,WAAW,CAAC,GACrC,OAAO,IAAI,CAAC,WAAW,CAAC,EAAQ,GAEhC,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAC,OAAO,CAAC,SAAS,CAAK,EACzC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAQ,EAEjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAQ,AACzC,CACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,CAAE,CAAS,EAC5C,IAAI,CAAC,GAAG,CAAC,GACT,IAAI,CAAC,MAAM,CAAC,EAChB,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAClB,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,CACZ,EAAa,IAAI,CAAC,WAAW,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,SAAS,CAAO,EAClF,MAAO,CACH,EACA,EAAM,WAAW,CAAC,EAAQ,CAC7B,AACL,GAAK,EAAE,CACH,EAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GACnC,OAAO,EAAW,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAO,EACpE,MAAO,CACH,EACA,EAAM,QAAQ,CAAC,EAAQ,CAAC,GAAG,CAAC,SAAS,CAAK,EACtC,OAAO,CAAQ,CAAC,EAAM,CAAC,OAAO,AAClC,GAAG,IAAI,CAAC,EAAM,iBAAiB,CAAG,GAAK,MAC1C,AACL,GAAE,AACD,MAAM,CAAC,SAAS,CAAI,EACjB,MAFuB,CAEhB,CAAQ,CAAI,CAAC,EAAE,AAC1B,GACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAO,UACnC,OAAO,AAlHU,EAkHM,IAAI,CAAC,CAlHH,OAkHW,GAjHpC,AAAY,KAAK,KADU,EAkHa,KAjHpB,AADc,EACJ,EAAC,EAC5B,EAAS,GAAG,CAAC,SAAS,CAAI,EAC7B,IAAI,EAAK,CAAI,CAAC,EAAE,CACZ,EAAM,CAAI,CAAC,EAAE,CACjB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,QAAS,CAClE,GAAI,KAAO,EAEX,IAAK,KAAO,EACZ,MAAO,EAAQ,KAAK,CAAG,EAAQ,KAAK,MAAG,EACvC,wBAAyB,CACrB,OAAQ,CACZ,CACJ,EACJ,EAqGA,EACA,EAAO,aAAa,CAAG,SAAS,AAAc,CAAK,EAC/C,IAAI,EAAM,EAAM,QAAQ,CAAE,EAAU,EAAM,OAAO,CAAE,EAAK,EAAM,EAAE,CAChE,GAAI,EAAS,CACT,IAAI,EAAU,EAAU,EAAI,GAC5B,MAAO,CACH,QAAS,EACT,MAAO,MAAM,OAAO,CAAC,GAAO,EAAI,GAAG,CAAC,SAAS,CAAI,EAC7C,OAAO,EAAgB,EAAS,EACpC,GAAK,CACD,EAAgB,EAAS,GAC5B,AACL,CACJ,CACA,MAAO,CACH,QAAS,EAAU,GACnB,MAAO,MAAM,OAAO,CAAC,GAAO,EAAM,CAC9B,EACH,AACL,CACJ,EAKE,EAAO,gBAAgB,CAAG,SAAS,EAEjC,OADe,AACR,MADc,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,gBAAgB,CAAC,mBACpD,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAGxC,OADA,CAAG,CADM,AACL,EADa,EAAE,CAAC,KAAK,CAAC,GACnB,CAAG,EACH,CACX,EAAG,CAAC,EACR,EACO,CACX,IAMI,EAAkC,EAAM,aAAa,CAAC,EAAlC,IAExB,OAFmC,EAE1B,IACL,OAAO,IAAI,CACf,CAWA,SAAS,IACL,OAAO,EAAM,UAAU,CAAC,EAC5B,CAMA,SAAS,EAAS,CAAK,EACnB,IAAI,EAA+C,SAApC,EAEV,GAID,EAAS,GAAG,CAAC,CAJF,EACJ,IAiBf,CA3CA,EAAkB,WAAW,CAAG,KAuBK,eAHZ,EAAe,OAAU,CAAC,IAAZ,cAA8B,EAAI,EAAe,OAAU,CAAC,IAAZ,WAA2B,CAwBlH,EAAS,OAAO,CAAG,SAAS,CAAI,EAC5B,OAAO,EAAK,GAAG,CAAC,SAAS,CAAO,EAG5B,OAAO,EAFM,CAAO,CAAC,EAAE,CACX,CAAO,CAAC,CACH,CADK,CAE1B,GAAG,GAD0B,CACtB,CAAC,IACZ,EAEA,EAAQ,aAAa,CAhDrB,EAgDwB,OAhDf,AAAc,CAAK,EACxB,IAAI,EAAqB,EAAM,QAAQ,CAAE,EAAW,EAAM,QAAQ,CAC9D,EAAe,EAAM,UAAU,CAAC,GAGhC,EAFM,AAEK,EAFC,QAAQ,CAAC,WACrB,OAAO,GAAgB,GAAsB,GACjD,EAAkB,CAAC,EAAE,CACrB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,EAAkB,QAAQ,CAAE,CACrF,MAAO,CACX,EAAG,EACP,EAwCA,EAAQ,mBAAmB,CAAG,EAC9B,EAAQ,KAAK,CAAG,EAChB,EAAQ,gBAAgB,CAAG,mBClf3B,EAAO,OAAO,CAAG,EAAA,CAAA,CAAA,OAAwB,KAAK,0CKE9C,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,yDKAqC,CAAC,OAAQ,CAAA,AAAE,EAAG,gBAAiB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAC,CAAA,ELCpF,IAAA,EAAA,EAAA,CAAA,CAAA,iJACA,IAAA,EAAA,EAAA,CAAA,CAAA,OCHA,EAAA,EAAA,CAAA,CAAA,OWUO,IAAM,EAA4C,CAAC,SAAE,CAAO,UAAE,CAAQ,CAAE,IAE3E,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CAC7B,MAAO,EAAQ,OAAO,EAAE,OAAS,GACjC,MAAO,EAAQ,KAAK,EAAI,GACxB,SAAU,EAAQ,OAAO,EAAE,UAAY,GACvC,SAAU,EAAQ,OAAO,EAAE,UAAY,GACvC,KAAM,EAAQ,OAAO,EAAE,MAAQ,EACnC,GAGA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,EAAQ,CACJ,MAAO,EAAQ,OAAO,EAAE,OAAS,GACjC,MAAO,EAAQ,KAAK,EAAI,GACxB,SAAU,EAAQ,OAAO,EAAE,UAAY,GACvC,SAAU,EAAQ,OAAO,EAAE,UAAY,GACvC,KAAM,EAAQ,OAAO,EAAE,MAAQ,EACnC,EACJ,EAAG,CAAC,EAAQ,OAAO,CAAC,EAKpB,IAAM,EAAe,CAAC,EAA0B,KAE5C,EADgB,CAAE,GAAG,CAAI,CACjB,AADmB,CAAC,EAAM,CAAE,CAAM,EAE9C,EAEM,EAAa,KACf,EAAS,CACL,MAAO,EAAK,KAAK,CACjB,QAAS,CACL,MAAO,EAAK,KAAK,CACjB,SAAU,EAAK,QAAQ,CACvB,SAAU,EAAK,QAAQ,CACvB,KAAM,EAAK,IAAI,AACnB,CACJ,EACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sFACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2GACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,2FACV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sIAA6H,MAAQ,aAIzJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kEAAyD,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,uBACrC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,MAAO,EAAK,KAAK,CACjB,SAAU,AAAC,GAAM,EAAa,QAAS,EAAE,MAAM,CAAC,KAAK,EACrD,OAAQ,EACR,YAAY,kBACZ,UAAU,2RAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kEAAyD,iBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,qCACrC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,MAAO,EAAK,KAAK,CACjB,SAAW,AAAD,GAAO,EAAa,QAAS,EAAE,MAAM,CAAC,KAAK,EACrD,OAAQ,EACR,YAAY,YACZ,UAAU,uQAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kEAAyD,sBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,gCACrC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,MAAO,EAAK,QAAQ,CACpB,SAAU,AAAC,GAAM,EAAa,WAAY,EAAE,MAAM,CAAC,KAAK,EACxD,OAAQ,EACR,YAAY,YACZ,UAAU,uQAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kEAAyD,mBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,6BACrC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EAAK,QAAQ,CACpB,SAAU,AAAC,GAAM,EAAa,WAAY,EAAE,MAAM,CAAC,KAAK,EACxD,OAAQ,EACR,KAAM,EACN,YAAY,cACZ,UAAU,6RAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kEAAyD,WAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,sCACrC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EAAK,IAAI,CAChB,SAAU,AAAC,GAAM,EAAa,OAAQ,EAAE,MAAM,CAAC,KAAK,EACpD,OAAQ,EACR,KAAM,EACN,YAAY,WACZ,UAAU,oSAOtC,EV9IA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAYA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OAgBO,IAAM,EAA4E,CACrF,GAAI,CAAE,MAAO,KAAM,MAAO,eAAgB,GAAI,iDAAkD,EAChG,SAAU,CAAE,MAAO,OAAQ,MAAO,kBAAmB,GAAI,0DAA2D,EACpH,SAAU,CAAE,MAAO,OAAQ,MAAO,kBAAmB,GAAI,0DAA2D,EACpH,QAAS,CAAE,MAAO,OAAQ,MAAO,gBAAiB,GAAI,oDAAqD,CAC/G,EAEM,EAAe,CAAC,CAAE,MAAI,UAAE,CAAQ,UAAE,CAAQ,WAAE,EAAY,EAAK,CAKlE,IACG,GAAM,YACF,CAAU,WACV,CAAS,YACT,CAAU,WACV,CAAS,YACT,CAAU,YACV,CAAU,CACb,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAE,GAAI,EAAK,EAAE,CAAE,KAAM,CAAE,IAAK,EAAK,GAAG,AAAC,CAAE,GAEjD,EAAQ,CACV,UAAW,EAAA,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,GAClC,aACA,QAAS,EAAa,GAAM,CAChC,EAWA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EACL,MAAO,EACP,UAAW,CAAC,sJAAsJ,EAAE,EAAY,4BAA8B,GAAA,CAAI,UAElN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAK,GAAG,CAAU,CAAG,GAAG,CAAS,CAAE,UAAU,iIAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,OAExB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACX,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EAAK,OAAO,CACnB,SAAU,AAAC,GAAM,GAAY,EAAS,EAAK,EAAE,CAAE,CAAE,QAAS,EAAE,MAAM,CAAC,KAAK,AAAC,GACzE,YAAY,WACZ,KAAM,EACN,UAAU,yHACV,YAAa,AAAC,GAAM,EAAE,eAAe,KAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACT,OAAO,IAAI,CAAC,GAA0B,GAAG,CAAC,AAAC,GACzC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEG,QAAS,IAAM,CAhCzB,AAAC,IACf,GAAI,CAAC,EAAU,OACf,IAAM,EAAc,EAAK,IAAI,EAAI,EAAE,CAC7B,EAAU,EAAY,QAAQ,CAAC,GAC/B,EAAY,MAAM,CAAC,GAAK,IAAM,GAC9B,IAAI,EAAa,EAAI,CAC3B,EAAS,EAAK,EAAE,CAAE,CAAE,KAAM,CAAQ,EACtC,GAyBqD,GACzB,YAAa,AAAC,GAAM,EAAE,eAAe,GACrC,UAAW,CAAC,2DAA2D,EAAE,EAAK,IAAI,EAAE,SAAS,GACvF,CAAA,EAAG,CAAU,CAAC,EAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAU,CAAC,EAAI,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAC7E,+HAAA,CACA,UAEL,CAAU,CAAC,EAAI,CAAC,KAAK,EARjB,SAapB,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAS,EAAK,EAAE,EAC/B,UAAU,wFACV,YAAc,AAAD,GAAO,EAAE,eAAe,YAErC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,KAAM,WAMjC,ECxHA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,gHMAoF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,uFACT,CAAU,CAAA,qCHD5F,mJAEyE,IAAK,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAU,CAAA,sNOmBxC,uLAdH,gYFNiC,CHAF,AGAE,AFAD,CDAD,AGAE,AFAD,CDAD,AGAE,AFAD,oKbOnE,EAA8C,CAAC,aACxD,CAAW,UACX,CAAQ,WACR,EAAY,EAAE,WACd,GAAY,CAAI,CACnB,IACG,IAAM,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAAoB,MACtC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkC,MAClE,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GAC7C,CAAC,AADgD,EAC1C,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,MAD8B,CAI3E,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACrD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAGrD,EAAY,CAAA,EAAA,EAAA,MAAM,AAAN,EAAmC,EAAE,EACjD,EAAa,CAAA,EAAA,EAAA,MAAA,AAAM,OAAqB,GAG9C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,IAAM,EAAS,EAAU,OAAO,CAChC,GAAI,CAAC,EAAQ,OAGb,IAAM,EAAM,EAAO,UAAU,CAAC,KAAM,CAChC,OAAO,CACX,GACA,GAAK,CAAD,CAQJ,GARU,AAEV,EAAI,QAAQ,CAAG,QACf,EAAI,OAAO,CAAG,QACd,EAAI,SAAS,CAAG,EAChB,EAAI,WAAW,CAAG,UAClB,CAD6B,CAClB,GAEP,EAAa,CACb,EAJkC,EAI5B,EAAM,IAAI,MAChB,EAAI,MAAM,CAAG,KACT,EAAI,SAAS,CAAC,EAAG,EAAG,EAAO,KAAK,CAAE,EAAO,MAAM,EAC/C,EAAI,SAAS,CAAC,EAAK,EAAG,GAEtB,EAAe,CAAC,EAAY,CAChC,EACA,EAAI,GAAG,CAAG,CACd,MACI,CADG,CACC,SAAS,CAAC,EAAG,EAAG,EAAO,KAAK,CAAE,EAAO,MAAM,EAC/C,EAAe,CAAC,GAAG,CAE3B,EAF8B,AAE3B,CAAC,EAAY,EAGhB,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACN,GAAI,CANoD,EAMrC,CAAC,EAAY,QAAQ,CAAC,GAAc,CACnD,IAAM,EAAM,IAAI,KAChB,GAAI,MAAM,CAAG,KACT,GAAS,UAAU,EAAG,EAAG,EAAU,OAAO,CAAE,KAAK,CAAE,EAAU,OAAO,CAAE,MAAM,EAC5E,GAAS,UAAU,EAAK,EAAG,GAC3B,EAAe,GAAQ,IAAI,EAAM,EAAY,EAC7C,EAAe,EAAE,CACrB,EACA,EAAI,GAAG,CAAG,CACd,CACJ,EAAG,CAAC,EAAa,EAAa,EAAQ,EAGtC,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACF,IACA,EAAQ,GADC,MACQ,CAAG,EACpB,EAAQ,wBAAwB,CAAY,WAAT,EAAoB,kBAAoB,cAE9D,OAAO,CAAhB,IACA,EAAQ,WAAW,CAAG,SAAA,EAGlC,EAAG,CAAC,EAAW,EAAM,EAAQ,EAE7B,IAAM,EAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC9B,GAAI,EAAU,OAAO,CAAE,CACnB,IAAM,EAAU,EAAU,OAAO,CAAC,SAAS,GAC3C,EAAe,GAAQ,IAAI,EAAM,EAAQ,EACzC,EAAe,EAAE,EACjB,EAAS,EACb,CACJ,EAAG,CAAC,EAAS,EAEP,EAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACrB,GAAI,EAAY,MAAM,EAAI,EAAG,OAE7B,IAAM,EAAa,IAAI,EAAY,CAC7B,EAAe,EAAW,GAAG,GACnC,EAAe,GAAQ,IAAI,EAAM,EAAa,EAC9C,EAAe,GAEf,IAAM,EAAY,CAAU,CAAC,EAAW,MAAM,CAAG,EAAE,CAC7C,EAAS,EAAU,OAAO,CAChC,GAAI,GAAU,EAAS,CAEnB,GADA,EAAQ,SAAS,CAAC,EAAG,EAAG,EAAO,KAAK,CAAE,EAAO,MAAM,EAC/C,EAAW,CACX,IAAM,EAAM,IAAI,MAChB,EAAI,MAAM,CAAG,IAAM,EAAQ,SAAS,CAAC,EAAK,EAAG,GAC7C,EAAI,GAAG,CAAG,CACd,CACA,EAAS,EACb,CACJ,EAAG,CAAC,EAAa,EAAS,EAAS,EAE7B,EAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACrB,GAA2B,IAAvB,EAAY,MAAM,CAAQ,OAE9B,IAAM,EAAe,IAAI,EAAY,CAC/B,EAAY,EAAa,GAAG,GAClC,EAAe,GAAQ,IAAI,EAAM,EAAU,EAC3C,EAAe,GAEf,IAAM,EAAS,EAAU,OAAO,CAChC,GAAI,GAAU,EAAS,CACnB,EAAQ,SAAS,CAAC,EAAG,EAAG,EAAO,KAAK,CAAE,EAAO,MAAM,EACnD,IAAM,EAAM,IAAI,MAChB,EAAI,MAAM,CAAG,IAAM,EAAQ,SAAS,CAAC,EAAK,EAAG,GAC7C,EAAI,GAAG,CAAG,EACV,EAAS,EACb,CACJ,EAAG,CAAC,EAAa,EAAS,EAAS,EAGnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,GAAI,CAAC,EAAW,OAEhB,IAAM,EAAiB,AAAD,IAClB,IAAM,EAAQ,EAAE,OAAO,EAAI,EAAE,OAAO,CAC9B,EAAU,EAAE,QAAQ,CAEtB,GAAS,CAAC,GAAqB,KAAK,CAAf,EAAE,GAAG,EAC1B,EAAE,cAAc,GAChB,MACO,GAAU,GAAqB,MAAV,EAAE,GAAG,EAAc,GAAmB,MAAV,EAAE,GAAG,AAAK,GAAM,CACxE,EAAE,cAAc,GAChB,IAER,EAGA,OADA,OAAO,gBAAgB,CAAC,UAAW,GAC5B,IAAM,OAAO,mBAAmB,CAAC,UAAW,EACvD,EAAG,CAAC,EAAM,EAAM,EAAU,EAE1B,IAAM,EAAiB,AAAC,IACpB,IAAM,EAAS,EAAU,OAAO,CAChC,GAAI,CAAC,EAAQ,MAAO,CAAE,EAAG,EAAG,EAAG,CAAE,EACjC,IAAM,EAAO,EAAO,qBAAqB,GACzC,MAAO,CACH,EAAG,CAAC,EAAE,OAAO,CAAG,EAAK,IAAA,AAAI,GAAK,CAAD,CAAQ,KAAK,CAAG,EAAK,KAAA,AAAK,EACvD,EAAG,CAAC,EAAE,OAAO,CAAG,EAAK,GAAG,AAAH,GAAQ,CAAD,CAAQ,MAAM,CAAG,EAAK,MAAA,AAAM,CAC5D,CACJ,EAEM,EAAY,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC1B,GAAI,CAAC,GAAW,EAAU,OAAO,CAAC,MAAM,CAAG,EAAG,OAE9C,IAAM,EAAM,EAAU,OAAO,CAC7B,EAAQ,SAAS,GAGjB,EAAQ,MAAM,CAAC,CAAG,CAAC,EAAE,CAAC,CAAC,CAAE,CAAG,CAAC,EAAE,CAAC,CAAC,EAGjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAI,MAAM,CAAG,EAAG,IAAK,CACrC,IAAM,EAAK,CAAC,CAAG,CAAC,EAAE,CAAC,CAAC,CAAG,CAAG,CAAC,EAAI,EAAE,EAAC,AAAC,EAAI,EACjC,EAAK,CAAC,CAAG,CAAC,EAAE,CAAC,CAAC,CAAG,CAAG,CAAC,EAAI,EAAE,EAAC,AAAC,EAAI,EACvC,EAAQ,gBAAgB,CAAC,CAAG,CAAC,EAAE,CAAC,CAAC,CAAE,CAAG,CAAC,EAAE,CAAC,CAAC,CAAE,EAAI,EACrD,CAGA,GAAI,EAAI,MAAM,CAAG,EAAG,CAChB,IAAM,EAAU,EAAI,MAAM,CAAG,EAC7B,EAAQ,gBAAgB,CACpB,CAAG,CAAC,EAAQ,CAAC,CAAC,CACd,CAAG,CAAC,EAAQ,CAAC,CAAC,CACd,CAAG,CAAC,EAAU,EAAE,CAAC,CAAC,CAClB,CAAG,CAAC,EAAU,EAAE,CAAC,CAAC,CAE1B,MAA0B,CAAnB,EAAsB,CAAlB,EAAI,MAAM,EACjB,EAAQ,MAAM,CAAC,CAAG,CAAC,EAAE,CAAC,CAAC,CAAE,CAAG,CAAC,EAAE,CAAC,CAAC,EAGrC,EAAQ,MAAM,EAClB,EAAG,CAAC,EAAQ,EA8BN,EAAc,KACX,IACL,EAAa,IACT,CAFY,CAED,OAAO,EAAE,qBAAqB,EAAW,OAAO,EAC/D,EAAU,OAAO,CAAG,EAAE,CACtB,IACJ,EAcA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,oFAAoF,EAAE,EAAA,CAAW,WAE9G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,UAAU,4EAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,IAAK,EACL,MAAO,IACP,OAAQ,IACR,cA1DK,AAAC,CA0DS,GAzD3B,GAAI,CAAC,EAAS,OACd,GAAa,GACb,IAAM,EAAS,EAAe,GAC9B,EAAU,OAAO,CAAG,CAAC,EAAO,CAE5B,EAAQ,SAAS,GACjB,EAAQ,MAAM,CAAC,EAAO,CAAC,CAAE,EAAO,CAAC,CACrC,EAmDgB,cAjDH,AAAC,CAiDiB,GAhD3B,GAAI,AAAC,GAAc,GAKnB,IAAK,EALuB,CAAV,CAKP,KAFK,EAAE,EAEE,SAFS,CAAS,kBAAkB,MAAQ,CAAC,EAAE,WAAW,CAAC,CAEnD,CACxB,IAAM,EAAS,EAAe,GAC9B,EAAU,OAAO,CAAC,IAAI,CAAC,EAC3B,CAGI,EAAW,OAAO,EAAE,qBAAqB,EAAW,OAAO,EAC/D,EAAW,OAAO,CAAG,sBAAsB,KACvC,GACJ,GACJ,EAkCgB,YAAa,EACb,eAAgB,EAChB,gBAAiB,EACjB,UAAU,oEAKjB,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8GACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACX,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAQ,OACvB,UAAW,CAAC,8EAA8E,EAAW,QAAT,EAAiB,kCAAoC,iCAAA,CAC3I,CACN,MAAM,eAEN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,MAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+CAAsC,UAE1D,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAQ,UACvB,UAAW,CAAC,8EAA8E,EAAW,WAAT,EAAoB,kCAAoC,iCAAA,CAC9I,CACN,MAAM,iBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,KAAM,KACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+CAAsC,eAK9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,EACT,SAAU,EAAY,MAAM,EAAI,EAChC,UAAU,4IACV,MAAM,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAM,KAAM,OAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,EACT,SAAiC,IAAvB,EAAY,MAAM,CAC5B,UAAU,4IACV,MAAM,wCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAM,KAAM,UAKrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEAxEhB,AAyEM,CAxErB,CAAE,GAAI,aAAc,MAAO,KAAM,MAAO,EAAG,QAAS,aAAc,EAClE,CAAE,GAAI,OAAQ,MAAO,IAAK,MAAO,EAAG,QAAS,aAAc,EAC3D,CAAE,GAAI,SAAU,MAAO,IAAK,MAAO,EAAG,QAAS,aAAc,EAChE,CAqEmC,GAAG,CAAC,AAAC,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEG,QAAS,IAAM,EAAa,EAAK,KAAK,EACtC,UAAW,CAAC,sFAAsF,EAAE,IAAc,EAAK,KAAK,CACtH,4CACA,mDAAA,CACA,WAEN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,oBAAoB,EAAE,EAAK,OAAO,CAAC,CAAC,EAAE,IAAc,EAAK,KAAK,CAAG,WAAa,aAAA,CAAc,GAC7G,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAyB,EAAK,KAAK,KAR9C,EAAK,EAAE,QAc5B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,QAhGA,CAgGS,IA/FpB,GAAY,EAAU,MAAX,CAAkB,EAAE,CACpC,EAAQ,SAAS,CAAC,EAAG,EAAG,EAAU,OAAO,CAAC,KAAK,CAAE,EAAU,OAAO,CAAC,MAAM,EACzE,IACJ,EA6FoB,UAAU,yLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,KAAM,KACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,gBAMlD,EqB7TA,EAAA,CAAA,EAAA,EAAA,OAAA,AHAa,EAAiB,QAAQ,CGAL,AHAK,CGAL,AHAK,CGAL,AHAK,mLAfuB,CGAF,AHAE,CGAF,AHAE,EAAK,CAAA,AGAF,CAAA,AHAE,CAAA,AGAF,CHAE,AGAF,CHAE,AGAF,CHAE,IAAU,sDjBI/D,EAA4C,CAAC,QACtD,CAAM,SACN,CAAO,aACP,CAAW,QACX,CAAM,OACN,EAAQ,SAAS,CACpB,IACG,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAW3C,GARA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACF,IACA,EAAe,EADP,CAER,GAAY,GACZ,EAAa,IAErB,EAAG,CAAC,EAAQ,EAAY,EAEpB,CAAC,EAAQ,OAAO,KAEpB,IAAM,EAAa,UACf,IAAI,GACJ,EAAY,IACZ,CAFc,EAEV,CACA,MAAM,EAAO,GACb,GAAa,GACb,WAAW,KACP,GAAa,GACb,GACJ,EAAG,IACP,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,eAAgB,GAC9B,GAAY,EAChB,EACJ,EAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,GAAG,gBACH,UAAU,0FACV,QAAS,AAAC,IAE+B,iBAAiB,CAAlD,EAAG,MAAM,CAAiB,EAAE,EAC5B,GAER,YAGC,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mNACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDAAwD,YAM/E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFAAkF,QAAS,GAAK,EAAE,eAAe,aAC5H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,EACT,SAAU,EACV,UAAU,qGACV,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,KAAM,OAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDAAgD,IAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,mCAIxF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAS,EACT,SAAU,EACV,KAAK,KACL,UAAU,uGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,KAAM,GAAI,UAAU,SACzB,EAAW,SAAW,gBAK/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EAA+E,QAAS,AAAC,IAC/D,oBAAoB,CAArD,EAAG,MAAM,CAAiB,EAAE,EAC5B,GAER,EAAG,GAAG,6BACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,UAAU,4HACV,QAAS,GAAK,EAAE,eAAe,YAE/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,YAAa,EACb,SAAU,EACV,UAAU,kBACV,WAAW,MAInB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFAA4E,2BAM3G,ECtFM,EAAuB,AAAC,IAS1B,GAAM,UACF,CAAQ,SACR,CAAO,CACP,SAAO,YACP,CAAU,CACV,QAAM,UACN,CAAQ,CACR,UAAQ,CACX,CAAG,EACE,EAAe,GAAY,KAAK,AAAC,GAAqB,EAAE,EAAE,GAAK,EAAS,WAAW,EACnF,YACF,CAAU,WACV,CAAS,YACT,CAAU,WACV,CAAS,YACT,CAAU,CACV,YAAU,CACb,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACZ,GAAI,EAAS,EAAE,CACf,KAAM,CACF,KAAM,mBACN,UACA,CACJ,CACJ,GAEM,EAAQ,CACV,UAAW,EAAA,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,cAClC,EACA,QAAS,EAAa,GAAM,EAC5B,OAAqB,KAAb,AAAkB,CAC9B,EAEM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,CAAC,EAAS,IAAI,EAExD,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EACL,MAAO,EACP,UAAW,CAAC,wCAAwC,EAAE,EAAa,kBAAoB,kBAAkB,qFAAqF,CAAC,UAE/L,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAK,GAAG,CAAU,CAAG,GAAG,CAAS,CAAE,UAAU,2FAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,OAGxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wKACV,GAAc,KACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAa,IAAI,CAAE,IAAK,EAAa,IAAI,CAAE,UAAU,+BAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,kBAI7B,GAAc,EAAW,MAAM,CAAG,GAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,IACP,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CACtB,EAAW,EAAW,IAAI,CAAE,AAAD,GAAsB,EAAE,EAAE,GAAK,IAAQ,MAAQ,GAChF,EAAS,EAAS,EAAS,EAAS,EAAE,CAAE,CACpC,YAAa,EACb,UAAW,CACf,EACJ,EACA,IAH4B,MAGlB,wBAHgD,8CAI1D,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,eAChB,GAAU,EAAO,MAAM,CAAG,EACvB,EAAO,GAAG,CAAC,IACP,IAAM,EAAa,EAAW,MAAM,CAAC,GAAK,EAAE,QAAQ,EAAE,SAAS,EAAM,EAAE,UACvE,AAA0B,GAAG,CAAzB,EAAW,MAAM,CAAe,KAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CAAwB,MAAO,EAAM,IAAI,UACrC,EAAW,GAAG,CAAC,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,UACzB,EAAE,IAAI,EADE,EAAE,EAAE,IAFV,EAAM,EAAE,CAQ/B,GAEA,EAAW,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,UACzB,EAAE,IAAI,EADE,EAAE,EAAE,GAKxB,GAAU,EAAO,MAAM,CAAG,GAAK,EAAW,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAAI,AAAsB,MAApB,QAAQ,CAAC,MAAM,EAAQ,MAAM,CAAG,GACpG,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CAAS,MAAM,eACX,EAAW,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAA0B,IAAtB,EAAE,QAAQ,CAAC,MAAM,EAAQ,GAAG,CAAC,GAChE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,UACzB,EAAE,IAAI,EADE,EAAE,EAAE,WAUzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,MAAO,EAAS,SAAS,CACzB,SAAU,AAAC,GAAM,EAAS,EAAS,EAAS,EAAS,EAAE,CAAE,CAAE,UAAW,EAAE,MAAM,CAAC,KAAK,AAAC,GACrF,YAAY,KACZ,UAAU,oKAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAS,EAAS,EAAS,EAAS,EAAE,CAAE,CAAE,KAAM,EAAE,MAAM,CAAC,KAAM,AAAD,GAC/E,YAAY,YACZ,KAAM,EACN,UAAU,+IAGb,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAS,EAAS,EAAS,EAAS,EAAE,CAAE,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,GAChF,YAAY,aACZ,UAAU,qMAEd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,KACL,EAAS,EAAS,EAAS,EAAS,EAAE,CAAE,CAAE,KAAM,EAAG,GACnD,GAAY,EAChB,EACA,UAAU,kFACV,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,aAM9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kHACV,CAAC,GACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,GAAY,GAC3B,UAAU,0DACV,MAAM,mBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,KAAM,OAG1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAS,EAAS,EAAS,EAAS,EAAE,EACrD,UAAU,yDACV,MAAM,cAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,cAMtC,EAEM,EAAoB,CAAC,MAAE,CAAI,UAAE,CAAQ,UAAE,CAAQ,YAAE,CAAU,YAAE,CAAU,QAAE,CAAM,cAAE,CAAY,cAAE,CAAY,eAAE,CAAa,CAAE,kBAAgB,CAAE,kBAAgB,aAAE,CAAW,CAahL,IACG,GAAM,YACF,CAAU,WACV,CAAS,YACT,CAAU,WACV,CAAS,CACT,YAAU,YACV,CAAU,CACb,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACZ,GAAI,EAAK,EAAE,CACX,KAAM,CACF,KAAM,iBACN,CACJ,CACJ,GAEM,CAAE,WAAY,CAAuB,QAAE,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,CACjE,GAAI,CAAC,mBAAmB,EAAE,EAAK,EAAE,CAAA,CAAE,CACnC,KAAM,CACF,KAAM,qBACN,QAAS,EAAK,EAAE,UAChB,CACJ,CACJ,GAEM,EAAQ,CACV,UAAW,EAAA,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,cAClC,EACA,QAAS,EAAa,GAAM,CAChC,EAEM,EAAuB,GAAyB,aAAf,EAEvC,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,IAAK,EACL,MAAO,EACP,UAAW,CAAC;gBACR,EAAE,EAAa,4BAA8B,kBAAkB;gBAC/D,EAAE,EAAuB,8CAAgD,GAAG;qBACvE,CAAC,WAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,EAAa,EAAU,EAAK,EAAE,EAC7C,UAAU,2LACV,MAAM,kBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,OAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAU,4LACV,QAAS,IAAM,EAAY,EAAM,aAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8IACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4GAAmG,kBAEvH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,YAAa,EAAK,OAAO,CACzB,SAAU,AAAC,GAAY,EAAa,EAAU,EAAK,EAAE,CAAE,CAAE,QAAS,CAAQ,GAC1E,UAAU,oCACV,WAAW,IAGf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAK,GAAG,CAAU,CAAG,GAAG,CAAS,CAAE,UAAU,4LAA4L,QAAS,AAAC,GAAM,EAAE,eAAe,YACvQ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,UAI5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,IAAK,EACL,UAAW,CAAC,gEAAgE,EAAE,EAAuB,cAAgB,iBAAA,CAAkB,WAEvI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,KAAM,KACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAoB,cAExC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,EAAc,EAAU,EAAK,EAAE,EAC9C,UAAU,iIAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,WAAW,YAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACZ,MAAO,EAAK,SAAS,EAAE,IAAI,GAAK,EAAE,EAAE,GAAK,EAAE,CAC3C,SAAU,EAAA,2BAA2B,UAEpC,EAAK,SAAS,EAAE,IAAI,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEG,SAAU,EACV,QAAS,EAAK,EAAE,CAChB,QAAS,EACT,WAAY,EACZ,OAAQ,EACR,SAAU,EACV,SAAU,GAPL,EAAE,EAAE,KAYpB,CAAC,CAAC,EAAK,SAAS,EAA8B,CAAC,GAA3B,EAAK,SAAS,CAAC,MAAM,GACtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wGAAwG,EAAE,EAAuB,8BAAgC,kBAAA,CAAmB,UACjM,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACX,EAAuB,UAAY,wBAQpE,EAQM,EAAe,CAAC,OAAE,CAAK,UAAE,CAAQ,YAAE,CAAU,YAAE,CAAU,QAAE,CAAM,CAAE,WAAS,cAAE,CAAY,cAAE,CAAY,eAAE,CAAa,kBAAE,CAAgB,kBAAE,CAAgB,aAAE,CAAW,CAa7K,IACG,GAAM,YAAE,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,CAChC,GAAI,EAAM,EAAE,CACZ,KAAM,CACF,KAAM,OACV,CACJ,GAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,IAAK,EAAY,UAAU,sBAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,iEACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,KAAM,GAAI,UAAU,kBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAM,OAAO,EAAI,eACvB,EAAM,IAAI,EAAI,EAAM,IAAI,CAAC,MAAM,CAAG,GAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACV,EAAM,IAAI,CAAC,GAAG,CAAE,AAAD,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEG,UAAW,CAAC,+CAA+C,EAAE,CAAU,CAAC,EAAI,EAAE,GAAG,CAAC,EAAE,CAAU,CAAC,EAAI,EAAE,MAAM,mBAAmB,CAAC,UAE9H,CAAU,CAAC,EAAI,EAAE,OAHb,SASzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,WACf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,EAAU,EAAM,EAAE,EACjC,UAAU,oFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,WAAW,eAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAU,uDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACZ,MAAO,EAAM,MAAM,EAAE,IAAI,AAAC,GAAW,EAAE,EAAE,GAAK,EAAE,CAChD,SAAU,EAAA,2BAA2B,UAEpC,EAAM,MAAM,EAAE,IAAI,AAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEG,KAAM,EACN,SAAU,EACV,WAAY,EACZ,SAAU,EAAM,EAAE,CAClB,WAAY,EACZ,OAAQ,EACR,aAAc,EACd,aAAc,EACd,cAAe,EACf,iBAAkB,EAClB,iBAAkB,EAClB,YAAa,GAZR,EAAK,EAAE,KAiBvB,EAAM,MAAM,EAAE,SAAW,EACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+JACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,cACpD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAS,IAAM,EAAU,EAAM,EAAE,EACjC,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,SAAS,kBAI3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACH,QAAQ,QACR,QAAS,IAAM,EAAU,EAAM,EAAE,EACjC,UAAU,oJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,SAAS,uBAO/D,4BmB5agB,EAAA,OAAA,EAAiB,WAAW,oGAlBjC,CVCR,CAAA,oFUGkB,EAAA,KAAS,MAAA,YAAqB,IAAK,GAAI,IAAK,CFYR,AEZQ,CFYE,AEZF,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAU,CAChF,CDYA,ATAA,AMAA,CdnBA,AQmBA,ASAA,AHAA,IdnBA,EAAA,EAAA,CAAA,CAAA,aQmBa,CAAA,EAAA,EAAA,OAAA,EAAiB,uBArBV,KAAM,OAAQ,CEAlB,ACAgB,AJAE,ACAA,AFYb,AMZY,AHAC,CDAA,AFYb,AMZY,ALAC,AIAF,ADAhB,ADAkB,KDAS,CIAL,AFAtB,AJYsB,ACZM,ACAD,ACAJ,GDAS,EAAA,IAAQ,GAAI,CFYL,AEZK,AEA5C,CAAA,AJYuC,AEZK,CAAA,AEA5C,AJYuC,CIZvC,AJYuC,AEZK,IAAU,CEAtD,AFAsD,CEAtD,AFAsD,CAAA,AEAtD,CAAA,AFAsD,CEAtD,AFAsD,CEAtD,AFAsD,CAAA,AEAtD,CAAA,EFAgE,CAC9E,AED6E,CAAA,QFClE,EAAG,CGAA,AJAA,AEAA,ACAA,AFAA,AIAA,SJAW,IAAK,WAC9B,WAAc,CDAA,AIAA,AHAA,UAAY,CAAA,AGAA,AJAZ,CCAY,AGAA,AJAZ,CAAA,AIAY,AHAA,CDAZ,AIAY,AHAA,UAAe,CDA3B,ACCd,CDDc,ACCb,CDDa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,ACCL,CDDK,CAAA,CCCA,ADDA,CUCP,AFAA,AHYK,AMZL,AFAA,ARAO,ACYF,AKZL,AJYI,CFZG,AOAP,AHYK,AMZL,ATYK,AKZL,AGAA,APYI,AMZJ,CEAA,AFAA,ANYI,AFZG,ASAP,ALYK,AHAA,AKZL,ACAA,CGAA,ANYK,AJZE,ACYF,AKZL,AJYI,AKZJ,AEAA,ADAA,CPYK,AKZL,ACAA,AHYK,AFAD,AFZG,AQAP,AEAA,ADAA,CRYK,ACAD,AEAC,AJZE,AS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","ignoreList":[0,1,11,12,13,14,15,16,17,19,20,21,22,23]}